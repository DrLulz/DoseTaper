/*!
 * Float Labels
 *
 * Version: 2.0.1
 * Author: Paul Ryley (http://geminilabs.io)
 * URL: https://github.com/geminilabs/float-labels.js
 * License: MIT
 */
/** global: Option */
/* floating labels
---------------------------------------------------------------------------*/
function doseParam(){
//console.log('doseParam');
$(".dose-param").floatlabels({customEvent:null,customLabel:null,exclude:".no-label",inputRegex:/email|number|password|search|tel|text|url/,prioritize:"label",requiredClass:"required",style:1,transform:"input, select, textarea"})}function daysParam(){
//console.log('daysParam')
$(".days-param").floatlabels({
// This function is run immediately after an element has been transformed by float-labels.
//customEvent: function( el ) {},
// This function lets you modify a label text; it must return a string.
//customLabel : function( labelEl, el ) {console.log( labelEl.text );},
exclude:".no-label",inputRegex:/email|number|password|search|tel|text|url/,prioritize:"label",requiredClass:"required",style:1,transform:"input, select, textarea"})}/* datepicker (pickadate)
---------------------------------------------------------------------------*/
function datePicker(){var a=function(){$("#input_date").text(d.get())},b=$(".input-group-addon"),c=$("#input_date").pickadate({format:"mmmm dd, yyyy",today:'<i class="fa fa-crosshairs" aria-hidden="true"></i>',clear:"",close:'<i class="fa fa-times" aria-hidden="true"></i>',formatSubmit:"mm/dd/yyyy",hiddenName:!0,onStart:function(){
//var date = new Date();
var a=new Date(2016,11,31);this.set("select",[a.getFullYear(),a.getMonth(),a.getDate()])},onClose:function(){a(),$(".cal-wrapper").removeClass("cal-hover")}}),d=c.pickadate("picker");b.on("click",function(a){d.get("open")?d.close():d.open(),a.stopPropagation()}).on("mousedown",function(a){a.preventDefault()}),a()}// datepicker()
/* checkboxes (iCheck)
---------------------------------------------------------------------------*/
function checkBoxes(){$(".checkbox:not(.noiCheck)").iCheck({checkboxClass:"icheckbox_flat-grey",radioClass:"iradio_flat-grey",
//increaseArea: '20%',
ifChecked:function(){console.log($(this).next())}}),$(".checkbox:not(.noiCheck)").on("ifChecked",function(a){$(this).parent().next().addClass("checked")}).on("ifUnchecked",function(a){$(this).parent().next().removeClass("checked")}),$(".checkbox.qod:not(.noiCheck)").iCheck({checkboxClass:"icheckbox_futurico",radioClass:"iradio_futurico",increaseArea:"20%",ifChecked:function(){}}),$(".checkbox.qod:not(.noiCheck)").on("ifChecked",function(a){$(this).parent().next().addClass("checked")}).on("ifUnchecked",function(a){$(this).parent().next().removeClass("checked")})}// checkboxes()
function resizeDelay(){var a=$("table.rx").not(".hidden"),b=a.find(".row-0"),c=a.find(".row-1"),d=a.find(".row-2");
// one row
if(width()>1155)b.length||(c.append(d.children()).removeClass("row-1").addClass("row-0"),d.remove());else if(b.length){var e=b.children("td").slice(0,3),f=b.children("td").slice(3,6);console.log("tr_one",e),console.log("tr_two",f),a.append($("<tr/>",{"class":"row-1",html:e})),a.append($("<tr/>",{"class":"row-2",html:f})),b.remove()}}function checkboxResize(){var a=$("table.rx").not(".hidden"),b=a.find(".row-0");
// 2 rows
if(width()<1156){var c=b.children("td").slice(0,3),d=b.children("td").slice(3,6);a.append($("<tr/>",{"class":"row-1",html:c})),a.append($("<tr/>",{"class":"row-2",html:d})),b.remove()}else if(!b.length){var e=a.find(".row-1"),f=a.find(".row-2");e.append(f.children()).removeClass("row-1").addClass("row-0"),f.remove()}var g;window.onresize=function(){clearTimeout(g),g=setTimeout(resizeDelay,5)},width()<lg&&$(".sup-size-wrapper").removeClass("v-align"),width()<md&&$(".sup-med-wrapper").removeClass("v-align"),$(window).resize(function(){width()<md?$(".sup-med-wrapper").removeClass("v-align"):$(".sup-med-wrapper").addClass("v-align"),width()<lg?$(".sup-size-wrapper").removeClass("v-align"):$(".sup-size-wrapper").addClass("v-align")})}// initialControls()
/* Q.O.D. behavior
---------------------------------------------------------------------------*/
function phaseQod(){$("[id$=_taper]").on("click",".phase-qod",function(a){a.stopPropagation(),a.stopImmediatePropagation(),$(this).toggleClass("active");var b=0==$(this).children().val()?"1":"0";$(this).children().val(b),a.preventDefault()})}
//function onOpened($e) {}
function onSelected(a,b){$("table.rx").not("#"+b).addClass("hidden"),$("table#"+b).removeClass("hidden"),checkboxResize(),a.target.blur()}function onAutocompleted(a,b){$("table.rx").not("#"+b).addClass("hidden"),$("table#"+b).removeClass("hidden"),checkboxResize(),a.target.blur()}/* f(x)
---------------------------------------------------------------------------*/
function isDays(a,b){var c=a.which?a.which:event.keyCode;return!(c<48||c>57)||8==c}function isDose(a,b){var c=a.which?a.which:event.keyCode;// “.” CHECK DOT, AND ONLY ONE.
return(46==c&&$(b).val().indexOf(".")==-1||!(c<48||c>57)||8==c)&&($(b).val().indexOf(".")==-1||!(53!=c||$(b).val().substring($(b).val().indexOf("."),$(b).val().indexOf(".").length).length>1)||8==c)}function phaseAddControls(a){var b=$(".phase-add-delete"),c="slideInRight",d="slideOutRight";b.removeClass(c).addClass(d).one(animation_end,function(){$(this).removeClass(d)}).detach().appendTo(a).addClass(c)}!function(a,b,c){"use strict";var d=a.jQuery||a.Zepto||a.$,e=function(a,c){this.el=this.isString(a)?b.querySelectorAll(a):a,this.options=c,this.prefix="fl-",this.init()};e.prototype={defaults:{customEvent:null,customLabel:null,exclude:".no-label",inputRegex:/email|number|password|search|tel|text|url/,prioritize:"label",// label|placeholder
requiredClass:"required",style:0,// 0|1|2
transform:"input,select,textarea"},init:function(){var a=this;Array.prototype.forEach.call(this.el,function(b){a.config=a.extend({},a.defaults,a.options,b.getAttribute("data-options"));var c=a.sprintf(":not($0)",a.config.exclude.split(/[\s,]+/).join("):not("));a.on("reset",b,a.onReset.bind(a)),a.addClass(b,a.prefixed("form")),a.config.style&&a.addClass(b,a.prefixed("style-"+a.config.style)),a.config.transform.split(/[\s,]+/).forEach(function(d){b.querySelectorAll(d+c).forEach(function(c){a.floatLabel(b,c)})})})},floatLabel:function(a,b){if(b.getAttribute("id")&&!this.hasClass(b.parentNode,this.prefixed("wrap"))&&("INPUT"!==b.tagName||this.config.inputRegex.test(b.getAttribute("type")))){var c=this.getLabel(b,a);c&&(this.addClass(c,this.prefixed("label")),this.addClass(b,this.prefixed(b.tagName.toLowerCase())),this.setLabel(c,b),this.wrapLabel(c,b),this.runEvents(b))}},getLabel:function(a,b){var c=this.sprintf('label[for="$0"]',a.getAttribute("id")),d=b.querySelectorAll(c);
// check for multiple labels with identical 'for' attributes
return d.length>1&&(d=a.parentNode.querySelectorAll(c)),1===d.length&&d[0]},setLabel:function(a,b){var d=a.textContent.replace(/[*:]/g,"").trim(),e=b.getAttribute("placeholder");
// call the custom defined label event
if((!d||d&&e&&"placeholder"===this.config.prioritize)&&(d=e),"function"==typeof this.config.customLabel){var f=this.config.customLabel.call(this,a,b);f!==c&&(d=f)}a.text=d,
// add a placholder option to the select if it doesn't already exist
"SELECT"===b.tagName?""!==b.firstElementChild.value?b.insertBefore(new Option(d,"",(!0),(!0)),b.firstElementChild):""===b.firstElementChild.value&&""===b.options[0].text&&(b.firstElementChild.text=d):e&&"label"!==this.config.prioritize||b.setAttribute("placeholder",d)},wrapLabel:function(a,b){var c=this.createEl("div",{"class":this.prefixed("wrap")+" "+this.prefixed("wrap-"+b.tagName.toLowerCase())});b.value.length&&this.addClass(c,this.prefixed("is-active")),(null!==b.getAttribute("required")||this.hasClass(b,this.config.requiredClass))&&this.addClass(c,this.prefixed("is-required")),b.parentNode.insertBefore(c,b),c.appendChild(a),c.appendChild(b)},runEvents:function(a){
// call the custom defined event
"function"==typeof this.config.customEvent&&this.config.customEvent.call(this,a),
// events
this.on("blur",a,this.onBlur.bind(this)),this.on("input",a,this.onChange.bind(this)),this.on("focus",a,this.onFocus.bind(this))},onBlur:function(a){this.removeClass(a.target.parentNode,this.prefixed("has-focus"))},onChange:function(a){var b=a.target.value.length?"add":"remove";this[b+"Class"](a.target.parentNode,this.prefixed("is-active"))},onFocus:function(a){this.addClass(a.target.parentNode,this.prefixed("has-focus"))},onReset:function(a){var b=this;this.config.transform.split(/[\s,]+/).forEach(function(c){a.target.querySelectorAll(c).forEach(function(a){b.removeClass(a.parentNode,b.prefixed("is-active"))})})},addClass:function(a,b){a.classList?a.classList.add(b):this.hasClass(a,b)||(a.className+=" "+b)},hasClass:function(a,b){return a.classList?a.classList.contains(b):new RegExp("\\b"+b+"\\b").test(a.className)},removeClass:function(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("\\b"+b+"\\b","g"),"")},event:function(a,b,c,d){b.split(" ").forEach(function(b){c[a+"EventListener"](b,d,!1)})},on:function(a,b,c){this.event("add",a,b,c)},off:function(a,b,c){this.event("remove",a,b,c)},trigger:function(a,c){var d=b.createEvent("HTMLEvents");d.initEvent(a,!1,!0),c.dispatchEvent(d)},extend:function(){var a=[].slice.call(arguments),b=a[0],c=a.slice(1);return Object.keys(c).forEach(function(a){for(var d in c[a])c[a].hasOwnProperty(d)&&(b[d]=c[a][d])}),b},isString:function(a){return"[object String]"===Object.prototype.toString.call(a)},createEl:function(a,c){var d="string"==typeof a?b.createElement(a):a;c=c||{};for(var e in c)c.hasOwnProperty(e)&&d.setAttribute(e,c[e]);return d},prefixed:function(a){return this.prefix+a},sprintf:function(a){var b=[].slice.call(arguments,1,arguments.length);return a.replace(/\$(\d+)/g,function(a,d){return b[d]!==c?b[d]:a})}},e.defaults=e.prototype.defaults,a.FloatLabels=e,d&&(d.fn.floatlabels=function(a){d.data(this,"plugin_floatlabels")||d.data(this,"plugin_floatlabels",new e(this,a))})}(window,document),/*!
 * pickadate.js v3.5.6, 2015/04/20
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */
function(a){
// AMD.
"function"==typeof define&&define.amd?define("picker",["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):this.Picker=a(jQuery)}(function(a){/**
 * The picker constructor that creates a blank picker.
 */
function b(f,g,i,m){//PickerInstance.prototype
/**
     * Wrap the picker holder components together.
     */
function n(){
// Create a picker wrapper holder
// Create a picker wrapper node
// Create a picker frame
// Create a picker box node
// Create the components nodes.
// The picker box class
// Picker wrap class
// Picker frame class
// Picker holder class
return b._.node("div",b._.node("div",b._.node("div",b._.node("div",B.component.nodes(w.open),y.box),y.wrap),y.frame),y.holder,'tabindex="-1"')}//createWrappedComponent
/**
     * Prepare the input element with all bindings.
     */
function o(){z.data(g,B).addClass(y.input).val(z.data("value")?B.get("select",x.format):f.value),
// Only bind keydown events if the element isn’t editable.
x.editable||z.on("focus."+w.id+" click."+w.id,function(a){a.preventDefault(),B.open()}).on("keydown."+w.id,u),
// Update the aria attributes.
e(f,{haspopup:!0,expanded:!1,readonly:!1,owns:f.id+"_root"})}/**
     * Prepare the root picker element with all bindings.
     */
function p(){e(B.$root[0],"hidden",!0)}/**
      * Prepare the holder picker element with all bindings.
      */
function q(){B.$holder.on({
// For iOS8.
keydown:u,"focus.toOpen":t,blur:function(){
// Remove the “target” class.
z.removeClass(y.target)},
// When something within the holder is focused, stop from bubbling
// to the doc and remove the “focused” state from the root.
focusin:function(a){B.$root.removeClass(y.focused),a.stopPropagation()},
// When something within the holder is clicked, stop it
// from bubbling to the doc.
"mousedown click":function(b){var c=b.target;
// Make sure the target isn’t the root holder so it can bubble up.
c!=B.$holder[0]&&(b.stopPropagation(),
// * For mousedown events, cancel the default action in order to
//   prevent cases where focus is shifted onto external elements
//   when using things like jQuery mobile or MagnificPopup (ref: #249 & #120).
//   Also, for Firefox, don’t prevent action on the `option` element.
"mousedown"!=b.type||a(c).is("input, select, textarea, button, option")||(b.preventDefault(),
// Re-focus onto the holder so that users can click away
// from elements focused within the picker.
B.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var b=a(this),c=b.data(),d=b.hasClass(y.navDisabled)||b.hasClass(y.disabled),
// * For IE, non-focusable elements can be active elements as well
//   (http://stackoverflow.com/a/2684561).
e=h();e=e&&(e.type||e.href),
// If it’s disabled or nothing inside is actively focused, re-focus the element.
(d||e&&!a.contains(B.$root[0],e))&&B.$holder[0].focus(),
// If something is superficially changed, update the `highlight` based on the `nav`.
!d&&c.nav?B.set("highlight",B.component.item.highlight,{nav:c.nav}):!d&&"pick"in c?(B.set("select",c.pick),x.closeOnSelect&&B.close(!0)):c.clear?(B.clear(),x.closeOnClear&&B.close(!0)):c.close&&B.close(!0)})}/**
      * Prepare the hidden input element along with all bindings.
      */
function r(){var b;x.hiddenName===!0?(b=f.name,f.name=""):(b=["string"==typeof x.hiddenPrefix?x.hiddenPrefix:"","string"==typeof x.hiddenSuffix?x.hiddenSuffix:"_submit"],b=b[0]+f.name+b[1]),B._hidden=a('<input type=hidden name="'+b+'"'+(
// If the element has a value, set the hidden value as well.
z.data("value")||f.value?' value="'+B.get("select",x.formatSubmit)+'"':"")+">")[0],z.on("change."+w.id,function(){B._hidden.value=f.value?B.get("select",x.formatSubmit):""})}
// Wait for transitions to end before focusing the holder. Otherwise, while
// using the `container` option, the view jumps to the container.
function s(){v&&l?B.$holder.find("."+y.frame).one("transitionend",function(){B.$holder[0].focus()}):B.$holder[0].focus()}function t(a){
// Stop the event from propagating to the doc.
a.stopPropagation(),
// Add the “target” class.
z.addClass(y.target),
// Add the “focused” class to the root.
B.$root.addClass(y.focused),
// And then finally open the picker.
B.open()}
// For iOS8.
function u(a){var b=a.keyCode,
// Check if one of the delete keys was pressed.
c=/^(8|46)$/.test(b);
// For some reason IE clears the input value on “escape”.
// For some reason IE clears the input value on “escape”.
// Check if `space` or `delete` was pressed or the picker is closed with a key movement.
// Prevent it from moving the page and bubbling to doc.
// If `delete` was pressed, clear the values and close the picker.
// Otherwise open the picker.
return 27==b?(B.close(!0),!1):void((32==b||c||!w.open&&B.component.key[b])&&(a.preventDefault(),a.stopPropagation(),c?B.clear().close():B.open()))}
// If there’s no element, return the picker constructor.
if(!f)return b;var v=!1,
// The state of the picker.
w={id:f.id||"P"+Math.abs(~~(Math.random()*new Date))},
// Merge the defaults and options passed.
x=i?a.extend(!0,{},i.defaults,m):m||{},
// Merge the default classes with the settings classes.
y=a.extend({},b.klasses(),x.klass),
// The element node wrapper into a jQuery object.
z=a(f),
// Pseudo picker constructor.
A=function(){return this.start()},
// The picker prototype.
B=A.prototype={constructor:A,$node:z,/**
             * Initialize everything
             */
start:function(){
// If it’s already started, do nothing.
// If it’s already started, do nothing.
// Update the picker states.
// Confirm focus state, convert into text input to remove UA stylings,
// and set as readonly to prevent keyboard popup.
// Create a new picker component with the settings.
// Create the picker root and then prepare it.
// Create the picker holder and then prepare it.
// If there’s a format for the hidden input element, create the element.
// Prepare the input element.
// Insert the hidden input as specified in the settings.
// Insert the root as specified in the settings.
// Bind the default component and settings events.
// Once we’re all set, check the theme in use.
// If the element has autofocus, open the picker.
return w&&w.start?B:(w.methods={},w.start=!0,w.open=!1,w.type=f.type,f.autofocus=f==h(),f.readOnly=!x.editable,f.id=f.id||w.id,"text"!=f.type&&(f.type="text"),B.component=new i(B,x),B.$root=a('<div class="'+y.picker+'" id="'+f.id+'_root" />'),p(),B.$holder=a(n()).appendTo(B.$root),q(),x.formatSubmit&&r(),o(),x.containerHidden?a(x.containerHidden).append(B._hidden):z.after(B._hidden),x.container?a(x.container).append(B.$root):z.after(B.$root),B.on({start:B.component.onStart,render:B.component.onRender,stop:B.component.onStop,open:B.component.onOpen,close:B.component.onClose,set:B.component.onSet}).on({start:x.onStart,render:x.onRender,stop:x.onStop,open:x.onOpen,close:x.onClose,set:x.onSet}),v=c(B.$holder[0]),f.autofocus&&B.open(),B.trigger("start").trigger("render"))},//start
/**
             * Render a new picker
             */
render:function(b){
// Trigger the queued “render” events.
// Insert a new component holder in the root or box.
return b?(B.$holder=a(n()),q(),B.$root.html(B.$holder)):B.$root.find("."+y.box).html(B.component.nodes(w.open)),B.trigger("render")},//render
/**
             * Destroy everything
             */
stop:function(){
// If it’s already stopped, do nothing.
// If it’s already stopped, do nothing.
// Then close the picker.
// Remove the hidden field.
// Remove the root.
// Remove the input class, remove the stored data, and unbind
// the events (after a tick for IE - see `P.close`).
// Restore the element state
// Trigger the queued “stop” events.
// Reset the picker states.
return w.start?(B.close(),B._hidden&&B._hidden.parentNode.removeChild(B._hidden),B.$root.remove(),z.removeClass(y.input).removeData(g),setTimeout(function(){z.off("."+w.id)},0),f.type=w.type,f.readOnly=!1,B.trigger("stop"),w.methods={},w.start=!1,B):B},//stop
/**
             * Open up the picker
             */
open:function(c){
// If it’s already open, do nothing.
// If it’s already open, do nothing.
// Add the “active” class.
// * A Firefox bug, when `html` has `overflow:hidden`, results in
//   killing transitions :(. So add the “opened” state on the next tick.
//   Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=625289
// If we have to give focus, bind the element and doc events.
// Set it as open.
// Prevent the page from scrolling.
// Pass focus to the root element’s jQuery object.
// Bind the document events.
return w.open?B:(z.addClass(y.active),e(f,"expanded",!0),setTimeout(function(){
// Add the “opened” class to the picker root.
B.$root.addClass(y.opened),e(B.$root[0],"hidden",!1)},0),c!==!1&&(w.open=!0,v&&k.css("overflow","hidden").css("padding-right","+="+d()),s(),j.on("click."+w.id+" focusin."+w.id,function(a){var b=a.target;
// If the target of the event is not the element, close the picker picker.
// * Don’t worry about clicks or focusins on the root because those don’t bubble up.
//   Also, for Firefox, a click on an `option` element bubbles up directly
//   to the doc. So make sure the target wasn't the doc.
// * In Firefox stopPropagation() doesn’t prevent right-click events from bubbling,
//   which causes the picker to unexpectedly close when right-clicking it. So make
//   sure the event wasn’t a right-click.
b!=f&&b!=document&&3!=a.which&&
// If the target was the holder that covers the screen,
// keep the element focused to maintain tabindex.
B.close(b===B.$holder[0])}).on("keydown."+w.id,function(c){var
// Get the keycode.
d=c.keyCode,
// Translate that to a selection change.
e=B.component.key[d],
// Grab the target.
f=c.target;
// On escape, close the picker and give focus.
27==d?B.close(!0):f!=B.$holder[0]||!e&&13!=d?a.contains(B.$root[0],f)&&13==d&&(c.preventDefault(),f.click()):(
// Prevent the default action to stop page movement.
c.preventDefault(),
// Trigger the key movement action.
e?b._.trigger(B.component.key.go,B,[b._.trigger(e)]):B.$root.find("."+y.highlighted).hasClass(y.disabled)||(B.set("select",B.component.item.highlight),x.closeOnSelect&&B.close(!0)))})),B.trigger("open"))},//open
/**
             * Close the picker
             */
close:function(a){
// If it’s already closed, do nothing more.
// If we need to give focus, do it before changing states.
// ....ah yes! It would’ve been incomplete without a crazy workaround for IE :|
// The focus is triggered *after* the close has completed - causing it
// to open again. So unbind and rebind the event at the next tick.
// Remove the “active” class.
// * A Firefox bug, when `html` has `overflow:hidden`, results in
//   killing transitions :(. So remove the “opened” state on the next tick.
//   Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=625289
// If it’s already closed, do nothing more.
// Set it as closed.
// Allow the page to scroll.
// Unbind the document events.
return a&&(x.editable?f.focus():(B.$holder.off("focus.toOpen").focus(),setTimeout(function(){B.$holder.on("focus.toOpen",t)},0))),z.removeClass(y.active),e(f,"expanded",!1),setTimeout(function(){
// Remove the “opened” and “focused” class from the picker root.
B.$root.removeClass(y.opened+" "+y.focused),e(B.$root[0],"hidden",!0)},0),w.open?(w.open=!1,v&&k.css("overflow","").css("padding-right","-="+d()),j.off("."+w.id),B.trigger("close")):B},//close
/**
             * Clear the values
             */
clear:function(a){return B.set("clear",null,a)},//clear
/**
             * Set something
             */
set:function(b,c,d){var e,f,g=a.isPlainObject(b),h=g?b:{};if(
// Make sure we have usable options.
d=g&&a.isPlainObject(c)?c:d||{},b){
// If the thing isn’t an object, make it one.
g||(h[b]=c);
// Go through the things of items to set.
for(e in h)
// Grab the value of the thing.
f=h[e],
// First, if the item exists and there’s a value, set it.
e in B.component.item&&(void 0===f&&(f=null),B.component.set(e,f,d)),
// Then, check to update the element value and broadcast a change.
"select"!=e&&"clear"!=e||z.val("clear"==e?"":B.get(e,x.format)).trigger("change");
// Render a new picker.
B.render()}
// When the method isn’t muted, trigger queued “set” events and pass the `thingObject`.
return d.muted?B:B.trigger("set",h)},//set
/**
             * Get something
             */
get:function(a,c){
// If a picker state exists, return that.
if(
// Make sure there’s something to get.
a=a||"value",null!=w[a])return w[a];
// Return the submission value, if that.
if("valueSubmit"==a){if(B._hidden)return B._hidden.value;a="value"}
// Return the value, if that.
if("value"==a)return f.value;
// Check if a component item exists, return that.
if(a in B.component.item){if("string"==typeof c){var d=B.component.get(a);return d?b._.trigger(B.component.formats.toString,B.component,[c,d]):""}return B.component.get(a)}},//get
/**
             * Bind events on the things.
             */
on:function(b,c,d){var e,f,g=a.isPlainObject(b),h=g?b:{};if(b){
// If the thing isn’t an object, make it one.
g||(h[b]=c);
// Go through the things to bind to.
for(e in h)
// Grab the method of the thing.
f=h[e],
// If it was an internal binding, prefix it.
d&&(e="_"+e),
// Make sure the thing methods collection exists.
w.methods[e]=w.methods[e]||[],
// Add the method to the relative method collection.
w.methods[e].push(f)}return B},//on
/**
             * Unbind events on the things.
             */
off:function(){var a,b,c=arguments;for(a=0,namesCount=c.length;a<namesCount;a+=1)b=c[a],b in w.methods&&delete w.methods[b];return B},/**
             * Fire off method events.
             */
trigger:function(a,c){var d=function(a){var d=w.methods[a];d&&d.map(function(a){b._.trigger(a,B,[c])})};return d("_"+a),d(a),B}};
// Return a new picker instance.
return new A}//PickerConstructor.klasses
/**
 * Check if the default theme is being used.
 */
function c(a){var b,c="position";
// For IE.
return a.currentStyle?b=a.currentStyle[c]:window.getComputedStyle&&(b=getComputedStyle(a)[c]),"fixed"==b}/**
 * Get the width of the browser’s scrollbar.
 * Taken from: https://github.com/VodkaBears/Remodal/blob/master/src/jquery.remodal.js
 */
function d(){if(k.height()<=i.height())return 0;var b=a('<div style="visibility:hidden;width:100px" />').appendTo("body"),c=b[0].offsetWidth;
// Force adding scrollbars.
b.css("overflow","scroll");
// Add the inner div.
var d=a('<div style="width:100%" />').appendTo(b),e=d[0].offsetWidth;
// Return the difference between the widths.
// Remove the divs.
return b.remove(),c-e}//PickerConstructor.extend
function e(b,c,d){if(a.isPlainObject(c))for(var e in c)f(b,e,c[e]);else f(b,c,d)}function f(a,b,c){a.setAttribute(("role"==b?"":"aria-")+b,c)}function g(b,c){a.isPlainObject(b)||(b={attribute:c}),c="";for(var d in b){var e=("role"==d?"":"aria-")+d,f=b[d];c+=null==f?"":e+'="'+b[d]+'"'}return c}
// IE8 bug throws an error for activeElements within iframes.
function h(){try{return document.activeElement}catch(a){}}var i=a(window),j=a(document),k=a(document.documentElement),l=null!=document.documentElement.style.transition;
// Expose the picker constructor.
//PickerConstructor
/**
 * The default classes and prefix to use for the HTML classes.
 */
/**
 * PickerConstructor helper methods.
 */
//PickerConstructor._
/**
 * Extend the picker with a component and defaults.
 */
return b.klasses=function(a){return a=a||"picker",{picker:a,opened:a+"--opened",focused:a+"--focused",input:a+"__input",active:a+"__input--active",target:a+"__input--target",holder:a+"__holder",frame:a+"__frame",wrap:a+"__wrap",box:a+"__box"}},b._={/**
     * Create a group of nodes. Expects:
     * `
        {
            min:    {Integer},
            max:    {Integer},
            i:      {Integer},
            node:   {String},
            item:   {Function}
        }
     * `
     */
group:function(a){
// Loop from the `min` to `max`, incrementing by `i`
for(var
// Scope for the looped object
c,
// Create the nodes list
d="",
// The counter starts from the `min`
e=b._.trigger(a.min,a);e<=b._.trigger(a.max,a,[e]);e+=a.i)
// Trigger the `item` function within scope of the object
c=b._.trigger(a.item,a,[e]),
// Splice the subgroup and create nodes out of the sub nodes
d+=b._.node(a.node,c[0],// the node
c[1],// the classes
c[2]);
// Return the list of nodes
return d},//group
/**
     * Create a dom node string
     */
node:function(b,c,d,e){
// If the item is false-y, just return an empty string
// If the item is false-y, just return an empty string
// If the item is an array, do a join
// Check for the class
// Check for any attributes
return c?(c=a.isArray(c)?c.join(""):c,d=d?' class="'+d+'"':"",e=e?" "+e:"","<"+b+d+e+">"+c+"</"+b+">"):""},//node
/**
     * Lead numbers below 10 with a zero.
     */
lead:function(a){return(a<10?"0":"")+a},/**
     * Trigger a function otherwise return the value.
     */
trigger:function(a,b,c){return"function"==typeof a?a.apply(b,c||[]):a},/**
     * If the second character is a digit, length is 2 otherwise 1.
     */
digits:function(a){return/\d/.test(a[1])?2:1},/**
     * Tell if something is a date object.
     */
isDate:function(a){return{}.toString.call(a).indexOf("Date")>-1&&this.isInteger(a.getDate())},/**
     * Tell if something is an integer.
     */
isInteger:function(a){return{}.toString.call(a).indexOf("Number")>-1&&a%1===0},/**
     * Create ARIA attribute strings.
     */
ariaAttr:g},b.extend=function(c,d){
// Extend jQuery.
a.fn[c]=function(e,f){
// Grab the component data.
var g=this.data(c);
// If the picker is requested, return the data object.
// If the picker is requested, return the data object.
// If the component data exists and `options` is a string, carry out the action.
return"picker"==e?g:g&&"string"==typeof e?b._.trigger(g[e],g,[f]):this.each(function(){var f=a(this);f.data(c)||new b(this,c,d,e)})},
// Set the defaults.
a.fn[c].defaults=d.defaults},b}),/*!
 * Date picker for pickadate.js v3.5.6
 * http://amsul.github.io/pickadate.js/date.htm
 */
function(a){
// AMD.
"function"==typeof define&&define.amd?define(["picker","jquery"],a):"object"==typeof exports?module.exports=a(require("./picker.js"),require("jquery")):a(Picker,jQuery)}(function(a,b){/**
 * The date picker constructor
 */
function c(a,b){var c=this,d=a.$node[0],e=d.value,f=a.$node.data("value"),g=f||e,h=f?b.formatSubmit:b.format,i=function(){
// For IE.
// For normal browsers.
return d.currentStyle?"rtl"==d.currentStyle.direction:"rtl"==getComputedStyle(a.$root[0]).direction};c.settings=b,c.$node=a.$node,
// The queue of methods that will be used to build item objects.
c.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},
// The component's item object.
c.item={},c.item.clear=null,c.item.disable=(b.disable||[]).slice(0),c.item.enable=-function(a){return a[0]===!0?a.shift():-1}(c.item.disable),c.set("min",b.min).set("max",b.max).set("now"),
// When there’s a value, set the `select`, which in turn
// also sets the `highlight` and `view`.
g?c.set("select",g,{format:h,defaultValue:!0}):c.set("select",null).set("highlight",c.item.now),
// The keycode to movement mapping.
c.key={40:7,// Down
38:-7,// Up
39:function(){return i()?-1:1},// Right
37:function(){return i()?1:-1},// Left
go:function(a){var b=c.item.highlight,d=new Date(b.year,b.month,b.date+a);c.set("highlight",d,{interval:a}),this.render()}},
// Bind some picker events.
a.on("render",function(){a.$root.find("."+b.klass.selectMonth).on("change",function(){var c=this.value;c&&(a.set("highlight",[a.get("view").year,c,a.get("highlight").date]),a.$root.find("."+b.klass.selectMonth).trigger("focus"))}),a.$root.find("."+b.klass.selectYear).on("change",function(){var c=this.value;c&&(a.set("highlight",[c,a.get("view").month,a.get("highlight").date]),a.$root.find("."+b.klass.selectYear).trigger("focus"))})},1).on("open",function(){var d="";c.disabled(c.get("now"))&&(d=":not(."+b.klass.buttonToday+")"),a.$root.find("button"+d+", select").attr("disabled",!1)},1).on("close",function(){a.$root.find("button, select").attr("disabled",!0)},1)}/**
 * Globals and constants
 */
var d=7,e=6,f=a._;//DatePicker
/**
 * Set a datepicker item object.
 */
c.prototype.set=function(a,b,c){var d=this,e=d.item;
// If the value is `null` just set it immediately.
// If the value is `null` just set it immediately.
// Otherwise go through the queue of methods, and invoke the functions.
// Update this as the time unit, and set the final value as this item.
// * In the case of `enable`, keep the queue but set `disable` instead.
//   And in the case of `flip`, keep the queue but set `enable` instead.
// Check if we need to cascade through more updates.
return null===b?("clear"==a&&(a="select"),e[a]=b,d):(e["enable"==a?"disable":"flip"==a?"enable":a]=d.queue[a].split(" ").map(function(e){return b=d[e](a,b,c)}).pop(),"select"==a?d.set("highlight",e.select,c):"highlight"==a?d.set("view",e.highlight,c):a.match(/^(flip|min|max|disable|enable)$/)&&(e.select&&d.disabled(e.select)&&d.set("select",e.select,c),e.highlight&&d.disabled(e.highlight)&&d.set("highlight",e.highlight,c)),d)},//DatePicker.prototype.set
/**
 * Get a datepicker item object.
 */
c.prototype.get=function(a){return this.item[a]},//DatePicker.prototype.get
/**
 * Create a picker date object.
 */
c.prototype.create=function(a,c,d){var e,g=this;
// Return the compiled object.
// If there’s no value, use the type as the value.
// If it’s infinity, update the value.
return c=void 0===c?a:c,c==-(1/0)||c==1/0?e=c:b.isPlainObject(c)&&f.isInteger(c.pick)?c=c.obj:b.isArray(c)?(c=new Date(c[0],c[1],c[2]),c=f.isDate(c)?c:g.create().obj):c=f.isInteger(c)||f.isDate(c)?g.normalize(new Date(c),d):g.now(a,c,d),{year:e||c.getFullYear(),month:e||c.getMonth(),date:e||c.getDate(),day:e||c.getDay(),obj:e||c,pick:e||c.getTime()}},//DatePicker.prototype.create
/**
 * Create a range limit object using an array, date object,
 * literal “true”, or integer relative to another time.
 */
c.prototype.createRange=function(a,c){var d=this,e=function(a){return a===!0||b.isArray(a)||f.isDate(a)?d.create(a):a};
// Create objects if possible.
// Create relative dates.
return f.isInteger(a)||(a=e(a)),f.isInteger(c)||(c=e(c)),f.isInteger(a)&&b.isPlainObject(c)?a=[c.year,c.month,c.date+a]:f.isInteger(c)&&b.isPlainObject(a)&&(c=[a.year,a.month,a.date+c]),{from:e(a),to:e(c)}},//DatePicker.prototype.createRange
/**
 * Check if a date unit falls within a date range object.
 */
c.prototype.withinRange=function(a,b){return a=this.createRange(a.from,a.to),b.pick>=a.from.pick&&b.pick<=a.to.pick},/**
 * Check if two date range objects overlap.
 */
c.prototype.overlapRanges=function(a,b){var c=this;
// Convert the ranges into comparable dates.
return a=c.createRange(a.from,a.to),b=c.createRange(b.from,b.to),c.withinRange(a,b.from)||c.withinRange(a,b.to)||c.withinRange(b,a.from)||c.withinRange(b,a.to)},/**
 * Get the date today.
 */
c.prototype.now=function(a,b,c){return b=new Date,c&&c.rel&&b.setDate(b.getDate()+c.rel),this.normalize(b,c)},/**
 * Navigate to next/prev month.
 */
c.prototype.navigate=function(a,c,d){var e,f,g,h,i=b.isArray(c),j=b.isPlainObject(c),k=this.item.view;/*,
        safety = 100*/
if(i||j){
// If the month we’re going to doesn’t have enough days,
// keep decreasing the date until we reach the month’s last date.
for(j?(f=c.year,g=c.month,h=c.date):(f=+c[0],g=+c[1],h=+c[2]),
// If we’re navigating months but the view is in a different
// month, navigate to the view’s year and month.
d&&d.nav&&k&&k.month!==g&&(f=k.year,g=k.month),
// Figure out the expected target year and month.
e=new Date(f,g+(d&&d.nav?d.nav:0),1),f=e.getFullYear(),g=e.getMonth();/*safety &&*/new Date(f,g,h).getMonth()!==g;)h-=1;c=[f,g,h]}return c},//DatePicker.prototype.navigate
/**
 * Normalize a date by setting the hours to midnight.
 */
c.prototype.normalize=function(a){return a.setHours(0,0,0,0),a},/**
 * Measure the range of dates.
 */
c.prototype.measure=function(a,b){var c=this;
// If it’s anything false-y, remove the limits.
return b?"string"==typeof b?b=c.parse(a,b):f.isInteger(b)&&(b=c.now(a,b,{rel:b})):b="min"==a?-(1/0):1/0,b},///DatePicker.prototype.measure
/**
 * Create a viewset object based on navigation.
 */
c.prototype.viewset=function(a,b){return this.create([b.year,b.month,1])},/**
 * Validate a date as enabled and shift if needed.
 */
c.prototype.validate=function(a,c,d){var
// Check if we have any enabled dates after/before now.
e,g,
// Check if we’ve reached the limit during shifting.
h,i,j=this,
// Keep a reference to the original date.
k=c,
// Make sure we have an interval.
l=d&&d.interval?d.interval:1,
// Check if the calendar enabled dates are inverted.
m=j.item.enable===-1,
// The min & max limits.
n=j.item.min,o=j.item.max,
// Check if the calendar is inverted and at least one weekday is enabled.
p=m&&j.item.disable.filter(function(a){
// If there’s a date, check where it is relative to the target.
if(b.isArray(a)){var d=j.create(a).pick;d<c.pick?e=!0:d>c.pick&&(g=!0)}
// Return only integers for enabled weekdays.
return f.isInteger(a)}).length;/*,

        safety = 100*/
// Cases to validate for:
// [1] Not inverted and date disabled.
// [2] Inverted and some dates enabled.
// [3] Not inverted and out of range.
//
// Cases to **not** validate for:
// • Navigating months.
// • Not inverted and date enabled.
// • Inverted and all dates disabled.
// • ..and anything else.
if((!d||!d.nav&&!d.defaultValue)&&(/* 1 */
!m&&j.disabled(c)||/* 2 */
m&&j.disabled(c)&&(p||e||g)||/* 3 */
!m&&(c.pick<=n.pick||c.pick>=o.pick)))
// Keep looping until we reach an enabled date.
for(
// When inverted, flip the direction if there aren’t any enabled weekdays
// and there are no enabled dates in the direction of the interval.
m&&!p&&(!g&&l>0||!e&&l<0)&&(l*=-1);/*safety &&*/j.disabled(c)&&(/*safety -= 1
            if ( !safety ) {
                throw 'Fell into an infinite loop while validating ' + dateObject.obj + '.'
            }*/
// If we’ve looped into the next/prev month with a large interval, return to the original date and flatten the interval.
Math.abs(l)>1&&(c.month<k.month||c.month>k.month)&&(c=k,l=l>0?1:-1),
// If we’ve reached the min/max limit, reverse the direction, flatten the interval and set it to the limit.
c.pick<=n.pick?(h=!0,l=1,c=j.create([n.year,n.month,n.date+(c.pick===n.pick?0:-1)])):c.pick>=o.pick&&(i=!0,l=-1,c=j.create([o.year,o.month,o.date+(c.pick===o.pick?0:1)])),!h||!i);)
// Finally, create the shifted date using the interval and keep looping.
c=j.create([c.year,c.month,c.date+l]);//endif
// Return the date object settled on.
return c},//DatePicker.prototype.validate
/**
 * Check if a date is disabled.
 */
c.prototype.disabled=function(a){var c=this,
// Filter through the disabled dates to check if this is one.
d=c.item.disable.filter(function(d){
// If the date is a number, match the weekday with 0index and `firstDay` check.
// If the date is a number, match the weekday with 0index and `firstDay` check.
// If it’s an array or a native JS date, create and match the exact date.
// If it’s an object, match a date within the “from” and “to” range.
return f.isInteger(d)?a.day===(c.settings.firstDay?d:d-1)%7:b.isArray(d)||f.isDate(d)?a.pick===c.create(d).pick:b.isPlainObject(d)?c.withinRange(d,a):void 0});
// Check the calendar “enabled” flag and respectively flip the
// disabled state. Then also check if it’s beyond the min/max limits.
// If this date matches a disabled date, confirm it’s not inverted.
return d=d.length&&!d.filter(function(a){return b.isArray(a)&&"inverted"==a[3]||b.isPlainObject(a)&&a.inverted}).length,c.item.enable===-1?!d:d||a.pick<c.item.min.pick||a.pick>c.item.max.pick},//DatePicker.prototype.disabled
/**
 * Parse a string into a usable type.
 */
c.prototype.parse=function(a,b,c){var d=this,e={};
// If it’s already parsed, we’re good.
// If it’s already parsed, we’re good.
// We need a `.format` to parse the value with.
// Convert the format into an array and then map through it.
return b&&"string"==typeof b?(c&&c.format||(c=c||{},c.format=d.settings.format),d.formats.toArray(c.format).map(function(a){var
// Grab the formatting label.
c=d.formats[a],
// The format length is from the formatting label function or the
// label length without the escaping exclamation (!) mark.
g=c?f.trigger(c,d,[b,e]):a.replace(/^!/,"").length;
// If there's a format label, split the value up to the format length.
// Then add it to the parsing object with appropriate label.
c&&(e[a]=b.substr(0,g)),
// Update the value as the substring from format length to end.
b=b.substr(g)}),[e.yyyy||e.yy,+(e.mm||e.m)-1,e.dd||e.d]):b},//DatePicker.prototype.parse
/**
 * Various formats to display the object in.
 */
c.prototype.formats=function(){
// Return the length of the first word in a collection.
function a(a,b,c){
// Grab the first word from the string.
// Regex pattern from http://stackoverflow.com/q/150033
var d=a.match(/[^\x00-\x7F]+|\w+/)[0];
// Return the length of the word.
// If there's no month index, add it to the date object
return c.mm||c.m||(c.m=b.indexOf(d)+1),d.length}
// Get the length of the first word in a string.
function b(a){return a.match(/\w+/)[0].length}return{d:function(a,b){
// If there's string, then get the digits length.
// Otherwise return the selected date.
return a?f.digits(a):b.date},dd:function(a,b){
// If there's a string, then the length is always 2.
// Otherwise return the selected date with a leading zero.
return a?2:f.lead(b.date)},ddd:function(a,c){
// If there's a string, then get the length of the first word.
// Otherwise return the short selected weekday.
return a?b(a):this.settings.weekdaysShort[c.day]},dddd:function(a,c){
// If there's a string, then get the length of the first word.
// Otherwise return the full selected weekday.
return a?b(a):this.settings.weekdaysFull[c.day]},m:function(a,b){
// If there's a string, then get the length of the digits
// Otherwise return the selected month with 0index compensation.
return a?f.digits(a):b.month+1},mm:function(a,b){
// If there's a string, then the length is always 2.
// Otherwise return the selected month with 0index and leading zero.
return a?2:f.lead(b.month+1)},mmm:function(b,c){var d=this.settings.monthsShort;
// If there's a string, get length of the relevant month from the short
// months collection. Otherwise return the selected month from that collection.
return b?a(b,d,c):d[c.month]},mmmm:function(b,c){var d=this.settings.monthsFull;
// If there's a string, get length of the relevant month from the full
// months collection. Otherwise return the selected month from that collection.
return b?a(b,d,c):d[c.month]},yy:function(a,b){
// If there's a string, then the length is always 2.
// Otherwise return the selected year by slicing out the first 2 digits.
return a?2:(""+b.year).slice(2)},yyyy:function(a,b){
// If there's a string, then the length is always 4.
// Otherwise return the selected year.
return a?4:b.year},
// Create an array by splitting the formatting string passed.
toArray:function(a){return a.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},
// Format an object into a string using the formatting options.
toString:function(a,b){var c=this;return c.formats.toArray(a).map(function(a){return f.trigger(c.formats[a],c,[0,b])||a.replace(/^!/,"")}).join("")}}}(),//DatePicker.prototype.formats
/**
 * Check if two date units are the exact.
 */
c.prototype.isDateExact=function(a,c){var d=this;
// When we’re working with weekdays, do a direct comparison.
// When we’re working with weekdays, do a direct comparison.
// When we’re working with date representations, compare the “pick” value.
// When we’re working with range objects, compare the “from” and “to”.
return f.isInteger(a)&&f.isInteger(c)||"boolean"==typeof a&&"boolean"==typeof c?a===c:(f.isDate(a)||b.isArray(a))&&(f.isDate(c)||b.isArray(c))?d.create(a).pick===d.create(c).pick:!(!b.isPlainObject(a)||!b.isPlainObject(c))&&(d.isDateExact(a.from,c.from)&&d.isDateExact(a.to,c.to))},/**
 * Check if two date units overlap.
 */
c.prototype.isDateOverlap=function(a,c){var d=this,e=d.settings.firstDay?1:0;
// When we’re working with a weekday index, compare the days.
// When we’re working with a weekday index, compare the days.
// When we’re working with range objects, check if the ranges overlap.
return f.isInteger(a)&&(f.isDate(c)||b.isArray(c))?(a=a%7+e,a===d.create(c).day+1):f.isInteger(c)&&(f.isDate(a)||b.isArray(a))?(c=c%7+e,c===d.create(a).day+1):!(!b.isPlainObject(a)||!b.isPlainObject(c))&&d.overlapRanges(a,c)},/**
 * Flip the “enabled” state.
 */
c.prototype.flipEnable=function(a){var b=this.item;b.enable=a||(b.enable==-1?1:-1)},/**
 * Mark a collection of dates as “disabled”.
 */
c.prototype.deactivate=function(a,c){var d=this,e=d.item.disable.slice(0);
// Return the updated collection.
// If we’re flipping, that’s all we need to do.
return"flip"==c?d.flipEnable():c===!1?(d.flipEnable(1),e=[]):c===!0?(d.flipEnable(-1),e=[]):c.map(function(a){
// When we have disabled items, check for matches.
// If something is matched, immediately break out.
for(var c,g=0;g<e.length;g+=1)if(d.isDateExact(a,e[g])){c=!0;break}
// If nothing was found, add the validated unit to the collection.
c||(f.isInteger(a)||f.isDate(a)||b.isArray(a)||b.isPlainObject(a)&&a.from&&a.to)&&e.push(a)}),e},//DatePicker.prototype.deactivate
/**
 * Mark a collection of dates as “enabled”.
 */
c.prototype.activate=function(a,c){var d=this,e=d.item.disable,g=e.length;
// Return the updated collection.
// If we’re flipping, that’s all we need to do.
return"flip"==c?d.flipEnable():c===!0?(d.flipEnable(1),e=[]):c===!1?(d.flipEnable(-1),e=[]):c.map(function(a){var c,h,i,j;
// Go through the disabled items and try to find a match.
for(i=0;i<g;i+=1){
// When an exact match is found, remove it from the collection.
if(h=e[i],d.isDateExact(h,a)){c=e[i]=null,j=!0;break}if(d.isDateOverlap(h,a)){b.isPlainObject(a)?(a.inverted=!0,c=a):b.isArray(a)?(c=a,c[3]||c.push("inverted")):f.isDate(a)&&(c=[a.getFullYear(),a.getMonth(),a.getDate(),"inverted"]);break}}
// If a match was found, remove a previous duplicate entry.
if(c)for(i=0;i<g;i+=1)if(d.isDateExact(e[i],a)){e[i]=null;break}
// In the event that we’re dealing with an exact range of dates,
// make sure there are no “inverted” dates because of it.
if(j)for(i=0;i<g;i+=1)if(d.isDateOverlap(e[i],a)){e[i]=null;break}
// If something is still matched, add it into the collection.
c&&e.push(c)}),e.filter(function(a){return null!=a})},//DatePicker.prototype.activate
/**
 * Create a string for the nodes in the picker.
 */
c.prototype.nodes=function(a){var b=this,c=b.settings,g=b.item,h=g.now,i=g.select,j=g.highlight,k=g.view,l=g.disable,m=g.min,n=g.max,
// Create the calendar table head using a copy of weekday labels collection.
// * We do a copy so we don't mutate the original array.
o=function(a,b){
// Create and return the table head group.
// If the first day should be Monday, move Sunday to the end.
return c.firstDay&&(a.push(a.shift()),b.push(b.shift())),f.node("thead",f.node("tr",f.group({min:0,max:d-1,i:1,node:"th",item:function(d){return[a[d],c.klass.weekdays,'scope=col title="'+b[d]+'"']}})))}((c.showWeekdaysFull?c.weekdaysFull:c.weekdaysShort).slice(0),c.weekdaysFull.slice(0)),//tableHead
// Create the nav for next/prev month.
p=function(a){
// Otherwise, return the created month tag.
// If the focused month is outside the range, disabled the button.
return f.node("div"," ",c.klass["nav"+(a?"Next":"Prev")]+(a&&k.year>=n.year&&k.month>=n.month||!a&&k.year<=m.year&&k.month<=m.month?" "+c.klass.navDisabled:""),"data-nav="+(a||-1)+" "+f.ariaAttr({role:"button",controls:b.$node[0].id+"_table"})+' title="'+(a?c.labelMonthNext:c.labelMonthPrev)+'"')},//createMonthNav
// Create the month label.
q=function(){var d=c.showMonthsShort?c.monthsShort:c.monthsFull;
// If there are months to select, add a dropdown menu.
// If there are months to select, add a dropdown menu.
return c.selectMonths?f.node("select",f.group({min:0,max:11,i:1,node:"option",item:function(a){return[
// The looped month and no classes.
d[a],0,
// Set the value and selected index.
"value="+a+(k.month==a?" selected":"")+(k.year==m.year&&a<m.month||k.year==n.year&&a>n.month?" disabled":"")]}}),c.klass.selectMonth,(a?"":"disabled")+" "+f.ariaAttr({controls:b.$node[0].id+"_table"})+' title="'+c.labelMonthSelect+'"'):f.node("div",d[k.month],c.klass.month)},//createMonthLabel
// Create the year label.
r=function(){var d=k.year,
// If years selector is set to a literal "true", set it to 5. Otherwise
// divide in half to get half before and half after focused year.
e=c.selectYears===!0?5:~~(c.selectYears/2);
// If there are years to select, add a dropdown menu.
if(e){var g=m.year,h=n.year,i=d-e,j=d+e;
// If the max year is less than the highest year, decrease the lowest year
// by the lower of the two: available and needed years. Then set the
// highest year to the max year.
if(
// If the min year is greater than the lowest year, increase the highest year
// by the difference and set the lowest year to the min year.
g>i&&(j+=g-i,i=g),h<j){var l=i-g,o=j-h;i-=l>o?o:l,j=h}return f.node("select",f.group({min:i,max:j,i:1,node:"option",item:function(a){return[
// The looped year and no classes.
a,0,
// Set the value and selected index.
"value="+a+(d==a?" selected":"")]}}),c.klass.selectYear,(a?"":"disabled")+" "+f.ariaAttr({controls:b.$node[0].id+"_table"})+' title="'+c.labelYearSelect+'"')}
// Otherwise just return the year focused
return f.node("div",d,c.klass.year)};//createYearLabel
// Create and return the entire calendar.
// * For Firefox forms to submit, make sure to set the buttons’ `type` attributes as “button”.
return f.node("div",(c.selectYears?r()+q():q()+r())+p()+p(1),c.klass.header)+f.node("table",o+f.node("tbody",f.group({min:0,max:e-1,i:1,node:"tr",item:function(a){
// If Monday is the first day and the month starts on Sunday, shift the date back a week.
var e=c.firstDay&&0===b.create([k.year,k.month,1]).day?-7:0;return[f.group({min:d*a-k.day+e+1,// Add 1 for weekday 0index
max:function(){return this.min+d-1},i:1,node:"td",item:function(a){
// Convert the time date from a relative date to a target date.
a=b.create([k.year,k.month,a+(c.firstDay?1:0)]);var d=i&&i.pick==a.pick,e=j&&j.pick==a.pick,g=l&&b.disabled(a)||a.pick<m.pick||a.pick>n.pick,o=f.trigger(b.formats.toString,b,[c.format,a]);return[f.node("div",a.date,function(b){
// Add the `infocus` or `outfocus` classes based on month in view.
// Add the `today` class if needed.
// Add the `selected` class if something's selected and the time matches.
// Add the `highlighted` class if something's highlighted and the time matches.
// Add the `disabled` class if something's disabled and the object matches.
return b.push(k.month==a.month?c.klass.infocus:c.klass.outfocus),h.pick==a.pick&&b.push(c.klass.now),d&&b.push(c.klass.selected),e&&b.push(c.klass.highlighted),g&&b.push(c.klass.disabled),b.join(" ")}([c.klass.day]),"data-pick="+a.pick+" "+f.ariaAttr({role:"gridcell",label:o,selected:!(!d||b.$node.val()!==o)||null,activedescendant:!!e||null,disabled:!!g||null})),"",f.ariaAttr({role:"presentation"})]}})]}})),c.klass.table,'id="'+b.$node[0].id+'_table" '+f.ariaAttr({role:"grid",controls:b.$node[0].id,readonly:!0}))+f.node("div",f.node("button",c.today,c.klass.buttonToday,"type=button data-pick="+h.pick+(a&&!b.disabled(h)?"":" disabled")+" "+f.ariaAttr({controls:b.$node[0].id}))+f.node("button",c.clear,c.klass.buttonClear,"type=button data-clear=1"+(a?"":" disabled")+" "+f.ariaAttr({controls:b.$node[0].id}))+f.node("button",c.close,c.klass.buttonClose,"type=button data-close=true "+(a?"":" disabled")+" "+f.ariaAttr({controls:b.$node[0].id})),c.klass.footer)},//DatePicker.prototype.nodes
/**
 * The date picker defaults.
 */
c.defaults=function(a){return{
// The title label to use for the month nav buttons
labelMonthNext:"Next month",labelMonthPrev:"Previous month",
// The title label to use for the dropdown selectors
labelMonthSelect:"Select a month",labelYearSelect:"Select a year",
// Months and weekdays
monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],
// Today and clear
today:"Today",clear:"Clear",close:"Close",
// Picker close behavior
closeOnSelect:!0,closeOnClear:!0,
// The format to show on the `input` element
format:"d mmmm, yyyy",
// Classes
klass:{table:a+"table",header:a+"header",navPrev:a+"nav--prev",navNext:a+"nav--next",navDisabled:a+"nav--disabled",month:a+"month",year:a+"year",selectMonth:a+"select--month",selectYear:a+"select--year",weekdays:a+"weekday",day:a+"day",disabled:a+"day--disabled",selected:a+"day--selected",highlighted:a+"day--highlighted",now:a+"day--today",infocus:a+"day--infocus",outfocus:a+"day--outfocus",footer:a+"footer",buttonClear:a+"button--clear",buttonToday:a+"button--today",buttonClose:a+"button--close"}}}(a.klasses().picker+"__"),/**
 * Extend the picker to add the date picker.
 */
a.extend("pickadate",c)}),/*!
 * iCheck v1.0.2, http://git.io/arlzeA
 * ===================================
 * Powerful jQuery and Zepto plugin for checkboxes and radio buttons customization
 *
 * (c) 2013 Damir Sultanov, http://fronteed.com
 * MIT Licensed
 */
function(a){
// Do something with inputs
function b(a,b,e){var f=a[0],g=/er/.test(e)?_indeterminate:/bl/.test(e)?o:m,h=e==_update?{checked:f[m],disabled:f[o],indeterminate:"true"==a.attr(_indeterminate)||"false"==a.attr(_determinate)}:f[g];
// Check, disable or indeterminate
if(/^(ch|di|in)/.test(e)&&!h)c(a,g);else if(/^(un|en|de)/.test(e)&&h)d(a,g);else if(e==_update)
// Handle states
for(var i in h)h[i]?c(a,i,!0):d(a,i,!0);else b&&"toggle"!=e||(
// Helper or label was clicked
b||a[_callback]("ifClicked"),
// Toggle checked state
h?f[_type]!==l&&d(a,g):c(a,g))}
// Add checked, disabled or indeterminate state
function c(b,c,e){var k=b[0],p=b.parent(),q=c==m,r=c==_indeterminate,s=c==o,t=r?_determinate:q?n:"enabled",u=f(b,t+g(k[_type])),v=f(b,c+g(k[_type]));
// Prevent unnecessary actions
if(k[c]!==!0){
// Toggle assigned radio buttons
if(!e&&c==m&&k[_type]==l&&k.name){var w=b.closest("form"),x='input[name="'+k.name+'"]';x=w.length?w.find(x):a(x),x.each(function(){this!==k&&a(this).data(i)&&d(a(this),c)})}
// Indeterminate state
r?(
// Add indeterminate state
k[c]=!0,
// Remove checked state
k[m]&&d(b,m,"force")):(
// Add checked or disabled state
e||(k[c]=!0),
// Remove indeterminate state
q&&k[_indeterminate]&&d(b,_indeterminate,!1)),
// Trigger callbacks
h(b,q,c,e)}
// Add proper cursor
k[o]&&f(b,_cursor,!0)&&p.find("."+j).css(_cursor,"default"),
// Add state class
p[_add](v||f(b,c)||""),
// Set ARIA attribute
p.attr("role")&&!r&&p.attr("aria-"+(s?o:m),"true"),
// Remove regular state class
p[_remove](u||f(b,t)||"")}
// Remove checked, disabled or indeterminate state
function d(a,b,c){var d=a[0],e=a.parent(),i=b==m,k=b==_indeterminate,l=b==o,p=k?_determinate:i?n:"enabled",q=f(a,p+g(d[_type])),r=f(a,b+g(d[_type]));
// Prevent unnecessary actions
d[b]!==!1&&(
// Toggle state
!k&&c&&"force"!=c||(d[b]=!1),
// Trigger callbacks
h(a,i,p,c)),
// Add proper cursor
!d[o]&&f(a,_cursor,!0)&&e.find("."+j).css(_cursor,"pointer"),
// Remove state class
e[_remove](r||f(a,b)||""),
// Set ARIA attribute
e.attr("role")&&!k&&e.attr("aria-"+(l?o:m),"false"),
// Add regular state class
e[_add](q||f(a,p)||"")}
// Remove all traces
function e(b,c){b.data(i)&&(
// Remove everything except input
b.parent().html(b.attr("style",b.data(i).s||"")),
// Callback
c&&b[_callback](c),
// Unbind events
b.off(".i").unwrap(),a(_label+'[for="'+b[0].id+'"]').add(b.closest(_label)).off(".i"))}
// Get some option
function f(a,b,c){if(a.data(i))return a.data(i).o[b+(c?"":"Class")]}
// Capitalize some string
function g(a){return a.charAt(0).toUpperCase()+a.slice(1)}
// Executable handlers
function h(a,b,c,d){d||(b&&a[_callback]("ifToggled"),a[_callback]("ifChanged")[_callback]("if"+g(c)))}
// Cached vars
var i="iCheck",j=i+"-helper",k="checkbox",l="radio",m="checked",n="un"+m,o="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),
// Plugin init
a.fn[i]=function(f,g){
// Walker
var h='input[type="'+k+'"], input[type="'+l+'"]',n=a(),p=function(b){b.each(function(){var b=a(this);n=b.is(h)?n.add(b):n.add(b.find(h))})};
// Check if we should operate with some method
if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(f))
// Normalize method's name
// Find checkboxes and radio buttons
return f=f.toLowerCase(),p(this),n.each(function(){var c=a(this);"destroy"==f?e(c,"ifDestroyed"):b(c,!0,f),
// Fire method's callback
a.isFunction(g)&&g()});if("object"!=typeof f&&f)return this;
// Check if any options were passed
var q=a.extend({checkedClass:m,disabledClass:o,indeterminateClass:_indeterminate,labelHover:!0},f),r=q.handle,s=q.hoverClass||"hover",t=q.focusClass||"focus",u=q.activeClass||"active",v=!!q.labelHover,w=q.labelHoverClass||"hover",
// Setup clickable area
x=0|(""+q.increaseArea).replace("%","");
// Selector limit
// Clickable area limit
// Walk around the selector
return r!=k&&r!=l||(h='input[type="'+r+'"]'),x<-50&&(x=-50),p(this),n.each(function(){var f=a(this);
// If already customized
e(f);var g,h=this,n=h.id,
// Layer styles
p=-x+"%",r=100+2*x+"%",y={position:"absolute",top:p,left:p,display:"block",width:r,height:r,margin:0,padding:0,background:"#fff",border:0,opacity:0},
// Choose how to hide input
z=_mobile?{position:"absolute",visibility:"hidden"}:x?y:{position:"absolute",opacity:0},
// Get proper class
A=h[_type]==k?q.checkboxClass||"i"+k:q.radioClass||"i"+l,
// Find assigned labels
B=a(_label+'[for="'+n+'"]').add(f.closest(_label)),
// Check ARIA option
C=!!q.aria,
// Set ARIA placeholder
D=i+"-"+Math.random().toString(36).substr(2,6),
// Parent & helper
E='<div class="'+A+'" '+(C?'role="'+h[_type]+'" ':"");
// Set ARIA "labelledby"
C&&B.each(function(){E+='aria-labelledby="',this.id?E+=this.id:(this.id=D,E+=D),E+='"'}),
// Wrap input
E=f.wrap(E+"/>")[_callback]("ifCreated").parent().append(q.insert),
// Layer addition
g=a('<ins class="'+j+'"/>').css(y).appendTo(E),
// Finalize customization
f.data(i,{o:q,s:f.attr("style")}).css(z),!!q.inheritClass&&E[_add](h.className||""),!!q.inheritID&&n&&E.attr("id",i+"-"+n),"static"==E.css("position")&&E.css("position","relative"),b(f,!0,_update),
// Label events
B.length&&B.on(_click+".i mouseover.i mouseout.i "+_touch,function(c){var d=c[_type],e=a(this);
// Do nothing if input is disabled
if(!h[o]){
// Click
if(d==_click){if(a(c.target).is("a"))return;b(f,!1,!0)}else v&&(
// mouseout|touchend
/ut|nd/.test(d)?(E[_remove](s),e[_remove](w)):(E[_add](s),e[_add](w)));if(!_mobile)return!1;c.stopPropagation()}}),
// Input events
f.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(a){var b=a[_type],e=a.keyCode;
// Click
// Click
return b!=_click&&("keydown"==b&&32==e?(h[_type]==l&&h[m]||(h[m]?d(f,m):c(f,m)),!1):void("keyup"==b&&h[_type]==l?!h[m]&&c(f,m):/us|ur/.test(b)&&E["blur"==b?_remove:_add](t)))}),
// Helper events
g.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(a){var c=a[_type],
// mousedown|mouseup
d=/wn|up/.test(c)?u:s;
// Do nothing if input is disabled
if(!h[o]){if(
// Click
c==_click?b(f,!1,!0):(
// State is on
/wn|er|in/.test(c)?
// mousedown|mouseover|touchbegin
E[_add](d):E[_remove](d+" "+u),
// Label hover
B.length&&v&&d==s&&
// mouseout|touchend
B[/ut|nd/.test(c)?_remove:_add](w)),!_mobile)return!1;a.stopPropagation()}})})}}(window.jQuery||window.Zepto),/*!
 * headroom.js v0.7.0 - Give your page some headroom. Hide your header until you need it
 * Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/headroom.js
 * License: MIT
 */
function(a,b){"use strict";/**
   * Handles debouncing of events via requestAnimationFrame
   * @see http://www.html5rocks.com/en/tutorials/speed/animations/
   * @param {Function} callback The callback to handle whichever event
   */
function c(a){this.callback=a,this.ticking=!1}/**
   * Check if object is part of the DOM
   * @constructor
   * @param {Object} obj element to check
   */
function d(b){return b&&"undefined"!=typeof a&&(b===a||b.nodeType)}/**
   * Helper function for extending objects
   */
function e(a){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var b,c,f=a||{};for(c=1;c<arguments.length;c++){var g=arguments[c]||{};for(b in g)
// Recurse into object except if the object is a DOM element
"object"!=typeof f[b]||d(f[b])?f[b]=f[b]||g[b]:f[b]=e(f[b],g[b])}return f}/**
   * Helper function for normalizing tolerance option to object format
   */
function f(a){return a===Object(a)?a:{down:a,up:a}}/**
   * UI enhancement for fixed headers.
   * Hides header when scrolling down
   * Shows header when scrolling up
   * @constructor
   * @param {DOMElement} elem the header element
   * @param {Object} options options for the widget
   */
function g(a,b){b=e(b,g.options),this.lastKnownScrollY=0,this.elem=a,this.debouncer=new c(this.update.bind(this)),this.tolerance=f(b.tolerance),this.classes=b.classes,this.offset=b.offset,this.scroller=b.scroller,this.initialised=!1,this.onPin=b.onPin,this.onUnpin=b.onUnpin,this.onTop=b.onTop,this.onNotTop=b.onNotTop}/* exported features */
var h={bind:!!function(){}.bind,classList:"classList"in b.documentElement,rAF:!!(a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame)};a.requestAnimationFrame=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,c.prototype={constructor:c,/**
     * dispatches the event to the supplied callback
     * @private
     */
update:function(){this.callback&&this.callback(),this.ticking=!1},/**
     * ensures events don't get stacked
     * @private
     */
requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},/**
     * Attach this as the event listeners
     */
handleEvent:function(){this.requestTick()}},g.prototype={constructor:g,/**
     * Initialises the widget
     */
init:function(){if(g.cutsTheMustard)
// defer event registration to handle browser 
// potentially restoring previous scroll position
return this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},/**
     * Unattaches events and removes any classes that were added
     */
destroy:function(){var a=this.classes;this.initialised=!1,this.elem.classList.remove(a.unpinned,a.pinned,a.top,a.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},/**
     * Attaches the scroll event
     * @private
     */
attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},/**
     * Unpins the header if it's currently pinned
     */
unpin:function(){var a=this.elem.classList,b=this.classes;!a.contains(b.pinned)&&a.contains(b.unpinned)||(a.add(b.unpinned),a.remove(b.pinned),this.onUnpin&&this.onUnpin.call(this))},/**
     * Pins the header if it's currently unpinned
     */
pin:function(){var a=this.elem.classList,b=this.classes;a.contains(b.unpinned)&&(a.remove(b.unpinned),a.add(b.pinned),this.onPin&&this.onPin.call(this))},/**
     * Handles the top states
     */
top:function(){var a=this.elem.classList,b=this.classes;a.contains(b.top)||(a.add(b.top),a.remove(b.notTop),this.onTop&&this.onTop.call(this))},/**
     * Handles the not top state
     */
notTop:function(){var a=this.elem.classList,b=this.classes;a.contains(b.notTop)||(a.add(b.notTop),a.remove(b.top),this.onNotTop&&this.onNotTop.call(this))},/**
     * Gets the Y scroll position
     * @see https://developer.mozilla.org/en-US/docs/Web/API/Window.scrollY
     * @return {Number} pixels the page has scrolled along the Y-axis
     */
getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(b.documentElement||b.body.parentNode||b.body).scrollTop},/**
     * Gets the height of the viewport
     * @see http://andylangton.co.uk/blog/development/get-viewport-size-width-and-height-javascript
     * @return {int} the height of the viewport in pixels
     */
getViewportHeight:function(){return a.innerHeight||b.documentElement.clientHeight||b.body.clientHeight},/**
     * Gets the height of the document
     * @see http://james.padolsey.com/javascript/get-document-height-cross-browser/
     * @return {int} the height of the document in pixels
     */
getDocumentHeight:function(){var a=b.body,c=b.documentElement;return Math.max(a.scrollHeight,c.scrollHeight,a.offsetHeight,c.offsetHeight,a.clientHeight,c.clientHeight)},/**
     * Gets the height of the DOM element
     * @param  {Object}  elm the element to calculate the height of which
     * @return {int}     the height of the element in pixels
     */
getElementHeight:function(a){return Math.max(a.scrollHeight,a.offsetHeight,a.clientHeight)},/**
     * Gets the height of the scroller element
     * @return {int} the height of the scroller element in pixels
     */
getScrollerHeight:function(){return this.scroller===a||this.scroller===b.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},/**
     * determines if the scroll position is outside of document boundaries
     * @param  {int}  currentScrollY the current y scroll position
     * @return {bool} true if out of bounds, false otherwise
     */
isOutOfBounds:function(a){var b=a<0,c=a+this.getViewportHeight()>this.getScrollerHeight();return b||c},/**
     * determines if the tolerance has been exceeded
     * @param  {int} currentScrollY the current scroll y position
     * @return {bool} true if tolerance exceeded, false otherwise
     */
toleranceExceeded:function(a,b){return Math.abs(a-this.lastKnownScrollY)>=this.tolerance[b]},/**
     * determine if it is appropriate to unpin
     * @param  {int} currentScrollY the current y scroll position
     * @param  {bool} toleranceExceeded has the tolerance been exceeded?
     * @return {bool} true if should unpin, false otherwise
     */
shouldUnpin:function(a,b){var c=a>this.lastKnownScrollY,d=a>=this.offset;return c&&d&&b},/**
     * determine if it is appropriate to pin
     * @param  {int} currentScrollY the current y scroll position
     * @param  {bool} toleranceExceeded has the tolerance been exceeded?
     * @return {bool} true if should pin, false otherwise
     */
shouldPin:function(a,b){var c=a<this.lastKnownScrollY,d=a<=this.offset;return c&&b||d},/**
     * Handles updating the state of the widget
     */
update:function(){var a=this.getScrollY(),b=a>this.lastKnownScrollY?"down":"up",c=this.toleranceExceeded(a,b);this.isOutOfBounds(a)||(a<=this.offset?this.top():this.notTop(),this.shouldUnpin(a,c)?this.unpin():this.shouldPin(a,c)&&this.pin(),this.lastKnownScrollY=a)}},/**
   * Default options
   * @type {Object}
   */
g.options={tolerance:{up:0,down:0},offset:0,scroller:a,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}},g.cutsTheMustard="undefined"!=typeof h&&h.rAF&&h.bind&&h.classList,a.Headroom=g}(window,document),/*!
 * headroom.js v0.7.0 - Give your page some headroom. Hide your header until you need it
 * Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/headroom.js
 * License: MIT
 */
function(a){a&&(
////////////
// Plugin //
////////////
a.fn.headroom=function(b){return this.each(function(){var c=a(this),d=c.data("headroom"),e="object"==typeof b&&b;e=a.extend(!0,{},Headroom.options,e),d||(d=new Headroom(this,e),d.init(),c.data("headroom",d)),"string"==typeof b&&d[b]()})},
//////////////
// Data API //
//////////////
a("[data-headroom]").each(function(){var b=a(this);b.headroom(b.data())}))}(window.Zepto||window.jQuery),/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
function(a,b){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(a){var b=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},isElement:function(a){return!(!a||1!==a.nodeType)},isJQuery:function(b){return b instanceof a},toStr:function(a){return b.isUndefined(a)||null===a?"":a+""},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){if(!(d=c.call(null,e,a,b)))return!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){if(d=c.call(null,e,a,b))return!1}),!!d):d},mixin:a.extend,identity:function(a){return a},clone:function(b){return a.extend(!0,{},b)},getIdGenerator:function(){var a=0;return function(){return a++}},templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,j<=0?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},stringify:function(a){return b.isString(a)?a:JSON.stringify(a)},noop:function(){}}}(),c=function(){"use strict";function a(a){var g,h;return h=b.mixin({},f,a),g={css:e(),classes:h,html:c(h),selectors:d(h)},{css:g.css,html:g.html,classes:g.classes,selectors:g.selectors,mixin:function(a){b.mixin(a,g)}}}function c(a){return{wrapper:'<span class="'+a.wrapper+'"></span>',menu:'<div class="'+a.menu+'"></div>'}}function d(a){var c={};return b.each(a,function(a,b){c[b]="."+a}),c}function e(){var a={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return b.isMsie()&&b.mixin(a.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),a}var f={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return a}(),d=function(){"use strict";function c(b){b&&b.el||a.error("EventBus initialized without el"),this.$el=a(b.el)}var d,e;return d="typeahead:",e={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},b.mixin(c.prototype,{_trigger:function(b,c){var e;return e=a.Event(d+b),(c=c||[]).unshift(e),this.$el.trigger.apply(this.$el,c),e},before:function(a){var b,c;return b=[].slice.call(arguments,1),c=this._trigger("before"+a,b),c.isDefaultPrevented()},trigger:function(a){var b;this._trigger(a,[].slice.call(arguments,1)),(b=e[a])&&this._trigger(b,[].slice.call(arguments,1))}}),c}(),e=function(){"use strict";function a(a,b,c,d){var e;if(!c)return this;for(b=b.split(i),c=d?h(c,d):c,this._callbacks=this._callbacks||{};e=b.shift();)this._callbacks[e]=this._callbacks[e]||{sync:[],async:[]},this._callbacks[e][a].push(c);return this}function b(b,c,d){return a.call(this,"async",b,c,d)}function c(b,c,d){return a.call(this,"sync",b,c,d)}function d(a){var b;if(!this._callbacks)return this;for(a=a.split(i);b=a.shift();)delete this._callbacks[b];return this}function e(a){var b,c,d,e,g;if(!this._callbacks)return this;for(a=a.split(i),d=[].slice.call(arguments,1);(b=a.shift())&&(c=this._callbacks[b]);)e=f(c.sync,this,[b].concat(d)),g=f(c.async,this,[b].concat(d)),e()&&j(g);return this}function f(a,b,c){function d(){for(var d,e=0,f=a.length;!d&&e<f;e+=1)d=a[e].apply(b,c)===!1;return!d}return d}function g(){var a;return a=window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}function h(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var i=/\s+/,j=g();return{onSync:c,onAsync:b,off:d,trigger:e}}(),f=function(a){"use strict";function c(a,c,d){for(var e,f=[],g=0,h=a.length;g<h;g++)f.push(b.escapeRegExChars(a[g]));return e=d?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",c?new RegExp(e):new RegExp(e,"i")}var d={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(e){function f(b){var c,d,f;return(c=h.exec(b.data))&&(f=a.createElement(e.tagName),e.className&&(f.className=e.className),d=b.splitText(c.index),d.splitText(c[0].length),f.appendChild(d.cloneNode(!0)),b.parentNode.replaceChild(f,d)),!!c}function g(a,b){for(var c,d=3,e=0;e<a.childNodes.length;e++)c=a.childNodes[e],c.nodeType===d?e+=b(c)?1:0:g(c,b)}var h;e=b.mixin({},d,e),e.node&&e.pattern&&(e.pattern=b.isArray(e.pattern)?e.pattern:[e.pattern],h=c(e.pattern,e.caseSensitive,e.wordsOnly),g(e.node,f))}}(window.document),g=function(){"use strict";function c(c,e){c=c||{},c.input||a.error("input is missing"),e.mixin(this),this.$hint=a(c.hint),this.$input=a(c.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=d(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=b.noop)}function d(b){return a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b)}function f(a,b){return c.normalizeQuery(a)===c.normalizeQuery(b)}function g(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var h;return h={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},c.normalizeQuery=function(a){return b.toStr(a).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},b.mixin(c.prototype,e,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(a){var b=h[a.which||a.keyCode];this._managePreventDefault(b,a),b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(a,b){var c;switch(a){case"up":case"down":c=!g(b);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case"tab":c=!g(b);break;default:c=!0}return c},_checkLanguageDirection:function(){var a=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==a&&(this.dir=a,this.$hint.attr("dir",a),this.trigger("langDirChanged",a))},_setQuery:function(a,b){var c,d;c=f(a,this.query),d=!!c&&this.query.length!==a.length,this.query=a,b||c?!b&&d&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var a,c,d,e,f=this;return a=b.bind(this._onBlur,this),c=b.bind(this._onFocus,this),d=b.bind(this._onKeydown,this),e=b.bind(this._onInput,this),this.$input.on("blur.tt",a).on("focus.tt",c).on("keydown.tt",d),!b.isMsie()||b.isMsie()>9?this.$input.on("input.tt",e):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){h[a.which||a.keyCode]||b.defer(b.bind(f._onInput,f,a))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(a,b){this.setInputValue(a),this._setQuery(a,b)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(a){this.$input.val(a),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(a){this.$hint.val(a)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var a,b,c,d;a=this.getInputValue(),b=this.getHint(),c=a!==b&&0===b.indexOf(a),d=""!==a&&c&&!this.hasOverflow(),!d&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var a=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,c,d;return a=this.$input.val().length,c=this.$input[0].selectionStart,b.isNumber(c)?c===a:!document.selection||(d=document.selection.createRange(),d.moveStart("character",-a),a===d.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=a("<div>")}}),c}(),h=function(){"use strict";function c(c,e){c=c||{},c.templates=c.templates||{},c.templates.notFound=c.templates.notFound||c.templates.empty,c.source||a.error("missing source"),c.node||a.error("missing node"),c.name&&!h(c.name)&&a.error("invalid dataset name: "+c.name),e.mixin(this),this.highlight=!!c.highlight,this.name=c.name||j(),this.limit=c.limit||5,this.displayFn=d(c.display||c.displayKey),this.templates=g(c.templates,this.displayFn),this.source=c.source.__ttAdapter?c.source.__ttAdapter():c.source,this.async=b.isUndefined(c.async)?this.source.length>2:!!c.async,this._resetLastSuggestion(),this.$el=a(c.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function d(a){function c(b){return b[a]}return a=a||b.stringify,b.isFunction(a)?a:c}function g(c,d){function e(b){return a("<div>").text(d(b))}return{notFound:c.notFound&&b.templatify(c.notFound),pending:c.pending&&b.templatify(c.pending),header:c.header&&b.templatify(c.header),footer:c.footer&&b.templatify(c.footer),suggestion:c.suggestion||e}}function h(a){return/^[_a-zA-Z0-9-]+$/.test(a)}var i,j;return i={val:"tt-selectable-display",obj:"tt-selectable-object"},j=b.getIdGenerator(),c.extractData=function(b){var c=a(b);return c.data(i.obj)?{val:c.data(i.val)||"",obj:c.data(i.obj)||null}:null},b.mixin(c.prototype,e,{_overwrite:function(a,b){b=b||[],b.length?this._renderSuggestions(a,b):this.async&&this.templates.pending?this._renderPending(a):!this.async&&this.templates.notFound?this._renderNotFound(a):this._empty(),this.trigger("rendered",this.name,b,!1)},_append:function(a,b){b=b||[],b.length&&this.$lastSuggestion.length?this._appendSuggestions(a,b):b.length?this._renderSuggestions(a,b):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(a),this.trigger("rendered",this.name,b,!0)},_renderSuggestions:function(a,b){var c;c=this._getSuggestionsFragment(a,b),this.$lastSuggestion=c.children().last(),this.$el.html(c).prepend(this._getHeader(a,b)).append(this._getFooter(a,b))},_appendSuggestions:function(a,b){var c,d;c=this._getSuggestionsFragment(a,b),d=c.children().last(),this.$lastSuggestion.after(c),this.$lastSuggestion=d},_renderPending:function(a){var b=this.templates.pending;this._resetLastSuggestion(),b&&this.$el.html(b({query:a,dataset:this.name}))},_renderNotFound:function(a){var b=this.templates.notFound;this._resetLastSuggestion(),b&&this.$el.html(b({query:a,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(c,d){var e,g=this;return e=document.createDocumentFragment(),b.each(d,function(b){var d,f;f=g._injectQuery(c,b),d=a(g.templates.suggestion(f)).data(i.obj,b).data(i.val,g.displayFn(b)).addClass(g.classes.suggestion+" "+g.classes.selectable),e.appendChild(d[0])}),this.highlight&&f({className:this.classes.highlight,node:e,pattern:c}),a(e)},_getFooter:function(a,b){return this.templates.footer?this.templates.footer({query:a,suggestions:b,dataset:this.name}):null},_getHeader:function(a,b){return this.templates.header?this.templates.header({query:a,suggestions:b,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=a()},_injectQuery:function(a,c){return b.isObject(c)?b.mixin({_query:a},c):c},update:function(b){function c(a){g||(g=!0,a=(a||[]).slice(0,e.limit),h=a.length,e._overwrite(b,a),h<e.limit&&e.async&&e.trigger("asyncRequested",b))}function d(c){c=c||[],!f&&h<e.limit&&(e.cancel=a.noop,h+=c.length,e._append(b,c.slice(0,e.limit-h)),e.async&&e.trigger("asyncReceived",b))}var e=this,f=!1,g=!1,h=0;this.cancel(),this.cancel=function(){f=!0,e.cancel=a.noop,e.async&&e.trigger("asyncCanceled",b)},this.source(b,c,d),!g&&c([])},cancel:a.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=a("<div>")}}),c}(),i=function(){"use strict";function c(c,d){function e(b){var c=f.$node.find(b.node).first();return b.node=c.length?c:a("<div>").appendTo(f.$node),new h(b,d)}var f=this;c=c||{},c.node||a.error("node is required"),d.mixin(this),this.$node=a(c.node),this.query=null,this.datasets=b.map(c.datasets,e)}return b.mixin(c.prototype,e,{_onSelectableClick:function(b){this.trigger("selectableClicked",a(b.currentTarget))},_onRendered:function(a,b,c,d){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",b,c,d)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function a(a){return a.isEmpty()}return b.every(this.datasets,a)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var a=this.getActiveSelectable();a&&a.removeClass(this.classes.cursor)},_ensureVisible:function(a){var b,c,d,e;b=a.position().top,c=b+a.outerHeight(!0),d=this.$node.scrollTop(),e=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),b<0?this.$node.scrollTop(d+b):e<c&&this.$node.scrollTop(d+(c-e))},bind:function(){var a,c=this;return a=b.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,a),b.each(this.datasets,function(a){a.onSync("asyncRequested",c._propagate,c).onSync("asyncCanceled",c._propagate,c).onSync("asyncReceived",c._propagate,c).onSync("rendered",c._onRendered,c).onSync("cleared",c._onCleared,c)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(a){this.$node.attr("dir",a)},selectableRelativeToCursor:function(a){var b,c,d,e;return c=this.getActiveSelectable(),b=this._getSelectables(),d=c?b.index(c):-1,e=d+a,e=(e+1)%(b.length+1)-1,e=e<-1?b.length-1:e,e===-1?null:b.eq(e)},setCursor:function(a){this._removeCursor(),(a=a&&a.first())&&(a.addClass(this.classes.cursor),this._ensureVisible(a))},getSelectableData:function(a){return a&&a.length?h.extractData(a):null},getActiveSelectable:function(){var a=this._getSelectables().filter(this.selectors.cursor).first();return a.length?a:null},getTopSelectable:function(){var a=this._getSelectables().first();return a.length?a:null},update:function(a){function c(b){b.update(a)}var d=a!==this.query;return d&&(this.query=a,b.each(this.datasets,c)),d},empty:function(){function a(a){a.clear()}b.each(this.datasets,a),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function c(a){a.destroy()}this.$node.off(".tt"),this.$node=a("<div>"),b.each(this.datasets,c)}}),c}(),j=function(){"use strict";function a(){i.apply(this,[].slice.call(arguments,0))}var c=i.prototype;return b.mixin(a.prototype,i.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),c.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),c.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),c._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),c._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(a){return this.$node.css("ltr"===a?this.css.ltr:this.css.rtl),c.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),a}(),k=function(){"use strict";function c(c,e){var f,g,h,i,j,k,l,m,n,o,p;c=c||{},c.input||a.error("missing input"),c.menu||a.error("missing menu"),c.eventBus||a.error("missing event bus"),e.mixin(this),this.eventBus=c.eventBus,this.minLength=b.isNumber(c.minLength)?c.minLength:1,this.input=c.input,this.menu=c.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),f=d(this,"activate","open","_onFocused"),g=d(this,"deactivate","_onBlurred"),h=d(this,"isActive","isOpen","_onEnterKeyed"),i=d(this,"isActive","isOpen","_onTabKeyed"),j=d(this,"isActive","_onEscKeyed"),k=d(this,"isActive","open","_onUpKeyed"),l=d(this,"isActive","open","_onDownKeyed"),m=d(this,"isActive","isOpen","_onLeftKeyed"),n=d(this,"isActive","isOpen","_onRightKeyed"),o=d(this,"_openIfActive","_onQueryChanged"),p=d(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",f,this).onSync("blurred",g,this).onSync("enterKeyed",h,this).onSync("tabKeyed",i,this).onSync("escKeyed",j,this).onSync("upKeyed",k,this).onSync("downKeyed",l,this).onSync("leftKeyed",m,this).onSync("rightKeyed",n,this).onSync("queryChanged",o,this).onSync("whitespaceChanged",p,this).onSync("langDirChanged",this._onLangDirChanged,this)}function d(a){var c=[].slice.call(arguments,1);return function(){var d=[].slice.call(arguments);b.each(c,function(b){return a[b].apply(a,d)})}}return b.mixin(c.prototype,{_hacks:function(){var c,d;c=this.input.$input||a("<div>"),d=this.menu.$node||a("<div>"),c.on("blur.tt",function(a){var e,f,g;e=document.activeElement,f=d.is(e),g=d.has(e).length>0,b.isMsie()&&(f||g)&&(a.preventDefault(),a.stopImmediatePropagation(),b.defer(function(){c.focus()}))}),d.on("mousedown.tt",function(a){a.preventDefault()})},_onSelectableClicked:function(a,b){this.select(b)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(a,b,c,d){this._updateHint(),this.eventBus.trigger("render",c,d,b)},_onAsyncRequested:function(a,b,c){this.eventBus.trigger("asyncrequest",c,b)},_onAsyncCanceled:function(a,b,c){this.eventBus.trigger("asynccancel",c,b)},_onAsyncReceived:function(a,b,c){this.eventBus.trigger("asyncreceive",c,b)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(a,b){var c;(c=this.menu.getActiveSelectable())&&this.select(c)&&b.preventDefault()},_onTabKeyed:function(a,b){var c;(c=this.menu.getActiveSelectable())?this.select(c)&&b.preventDefault():(c=this.menu.getTopSelectable())&&this.autocomplete(c)&&b.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(a,b){this._minLengthMet(b)?this.menu.update(b):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(a,b){this.dir!==b&&(this.dir=b,this.menu.setLanguageDirection(b))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(a){return a=b.isString(a)?a:this.input.getQuery()||"",a.length>=this.minLength},_updateHint:function(){var a,c,d,e,f,h,i;a=this.menu.getTopSelectable(),c=this.menu.getSelectableData(a),d=this.input.getInputValue(),!c||b.isBlankString(d)||this.input.hasOverflow()?this.input.clearHint():(e=g.normalizeQuery(d),f=b.escapeRegExChars(e),h=new RegExp("^(?:"+f+")(.+$)","i"),i=h.exec(c.val),i&&this.input.setHint(d+i[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(a){this.input.setQuery(b.toStr(a))},getVal:function(){return this.input.getQuery()},select:function(a){var b=this.menu.getSelectableData(a);return!(!b||this.eventBus.before("select",b.obj))&&(this.input.setQuery(b.val,!0),this.eventBus.trigger("select",b.obj),this.close(),!0)},autocomplete:function(a){var b,c,d;return b=this.input.getQuery(),c=this.menu.getSelectableData(a),d=c&&b!==c.val,!(!d||this.eventBus.before("autocomplete",c.obj))&&(this.input.setQuery(c.val),this.eventBus.trigger("autocomplete",c.obj),!0)},moveCursor:function(a){var b,c,d,e,f;return b=this.input.getQuery(),c=this.menu.selectableRelativeToCursor(a),d=this.menu.getSelectableData(c),e=d?d.obj:null,f=this._minLengthMet()&&this.menu.update(b),!f&&!this.eventBus.before("cursorchange",e)&&(this.menu.setCursor(c),d?this.input.setInputValue(d.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",e),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),c}();!function(){"use strict";function e(b,c){b.each(function(){var b,d=a(this);(b=d.data(p.typeahead))&&c(b,d)})}function f(a,b){return a.clone().addClass(b.classes.hint).removeData().css(b.css.hint).css(l(a)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function h(a,b){a.data(p.attrs,{dir:a.attr("dir"),autocomplete:a.attr("autocomplete"),spellcheck:a.attr("spellcheck"),style:a.attr("style")}),a.addClass(b.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!a.attr("dir")&&a.attr("dir","auto")}catch(c){}return a}function l(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function m(a){var c,d;c=a.data(p.www),d=a.parent().filter(c.selectors.wrapper),b.each(a.data(p.attrs),function(c,d){b.isUndefined(c)?a.removeAttr(d):a.attr(d,c)}),a.removeData(p.typeahead).removeData(p.www).removeData(p.attr).removeClass(c.classes.input),d.length&&(a.detach().insertAfter(d),d.remove())}function n(c){var d,e;return d=b.isJQuery(c)||b.isElement(c),e=d?a(c).first():[],e.length?e:null}var o,p,q;o=a.fn.typeahead,p={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},q={initialize:function(e,l){function m(){var c,m,q,r,s,t,u,v,w,x,y;b.each(l,function(a){a.highlight=!!e.highlight}),c=a(this),m=a(o.html.wrapper),q=n(e.hint),r=n(e.menu),s=e.hint!==!1&&!q,t=e.menu!==!1&&!r,s&&(q=f(c,o)),t&&(r=a(o.html.menu).css(o.css.menu)),q&&q.val(""),c=h(c,o),(s||t)&&(m.css(o.css.wrapper),c.css(s?o.css.input:o.css.inputWithNoHint),c.wrap(m).parent().prepend(s?q:null).append(t?r:null)),y=t?j:i,u=new d({el:c}),v=new g({hint:q,input:c},o),w=new y({node:r,datasets:l},o),x=new k({input:v,menu:w,eventBus:u,minLength:e.minLength},o),c.data(p.www,o),c.data(p.typeahead,x)}var o;return l=b.isArray(l)?l:[].slice.call(arguments,1),e=e||{},o=c(e.classNames),this.each(m)},isEnabled:function(){var a;return e(this.first(),function(b){a=b.isEnabled()}),a},enable:function(){return e(this,function(a){a.enable()}),this},disable:function(){return e(this,function(a){a.disable()}),this},isActive:function(){var a;return e(this.first(),function(b){a=b.isActive()}),a},activate:function(){return e(this,function(a){a.activate()}),this},deactivate:function(){return e(this,function(a){a.deactivate()}),this},isOpen:function(){var a;return e(this.first(),function(b){a=b.isOpen()}),a},open:function(){return e(this,function(a){a.open()}),this},close:function(){return e(this,function(a){a.close()}),this},select:function(b){var c=!1,d=a(b);return e(this.first(),function(a){c=a.select(d)}),c},autocomplete:function(b){var c=!1,d=a(b);return e(this.first(),function(a){c=a.autocomplete(d)}),c},moveCursor:function(a){var b=!1;return e(this.first(),function(c){b=c.moveCursor(a)}),b},val:function(a){var b;return arguments.length?(e(this,function(b){b.setVal(a)}),this):(e(this.first(),function(a){b=a.getVal()}),b)},destroy:function(){return e(this,function(a,b){m(b),a.destroy()}),this}},a.fn.typeahead=function(a){return q[a]?q[a].apply(this,[].slice.call(arguments,1)):q.initialize.apply(this,arguments)},a.fn.typeahead.noConflict=function(){return a.fn.typeahead=o,this}}()}),/******************************************
 * inabrains.com
 *
 * LiteTooltip JQuery Plugin 
 *
 * @copyright       Copyright (c) 2013 INA Brains.
 * @license         License info
 * @link            http://www.inabrains.com
 * @docs            http://www.inabrains.com/tooltip
 * @version         Version 2.0
 *
 ******************************************/
function(a){function b(a,b){return this.settings=this.getSettings(a,b),this.$element=b,this}a.fn.LiteTooltip=function(c,d){return this.each(function(){var d=a.extend({},a.fn.LiteTooltip.defaultSettings,c||{}),e=a(this),f=new b(d,e);""!=f.settings.title&&(e.is("input")||e.css({cursor:"pointer"}),"hoverable"==f.settings.trigger?(this.toggle=!1,e.bind("mouseenter",{settings:f.settings,element:e,$plugin:f,$toggle:this.toggle},f.mouseOverHandler),e.bind("mouseleave",{settings:f.settings,element:e,$plugin:f,$toggle:this.toggle},f.mouseOutHandler)):"hover"==f.settings.trigger?(e.bind("mouseenter",{settings:f.settings,element:e,$plugin:f},f.mouseOverHandler),e.bind("mouseleave",{settings:f.settings,element:e,$plugin:f},f.mouseOutHandler)):"focus"==f.settings.trigger?(e.bind("focus",{settings:f.settings,element:e,$plugin:f},f.mouseOverHandler),e.bind("blur",{settings:f.settings,element:e,$plugin:f},f.mouseOutHandler)):"click"==f.settings.trigger&&(this.toggle=!1,e.bind("click",{settings:f.settings,element:e,$plugin:f,$toggle:this.toggle},f.mouseOverHandler),f.settings.issticky||e.bind("mouseleave",{settings:f.settings,element:e,$plugin:f,$toggle:this.toggle},f.mouseOutHandler)))})},b.prototype={getSettings:function(b,c){var d=null==c.data("issticky")||"true"==c.data("issticky"),e=a.extend({},b,{location:c.data("location"),title:c.data("title"),backcolor:c.data("backcolor"),textalign:c.data("textalign"),trigger:c.data("trigger"),textcolor:c.data("textcolor"),opacity:c.data("opacity"),templatename:c.data("templatename"),width:c.data("width"),margin:c.data("margin"),padding:c.data("padding"),delay:c.data("delay"),issticky:d,container:c.data("container"),shadow:c.data("shadow")});return e},mouseOverHandler:function(b){if("function"==typeof b.data.settings.onUpdate&&(b.data.settings.title=b.data.settings.onUpdate.call(this)),b.data.element.is("input")&&""!=b.data.element.val())return!1;if("click"==b.data.settings.trigger){if(b.data.$toggle)return b.data.$toggle=!1,this.toggle=!1,!1;b.data.$toggle=!0,this.toggle=!0,b.data.element.unbind("click"),b.data.element.bind("click",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:b.data.$toggle},b.data.$plugin.mouseOutHandler)}var c=b.data.element,d=b.data.settings,e=parseInt(d.margin.toString().replace("px","")),f=parseInt(d.padding.toString().replace("px","")),g=parseInt(d.width.toString().replace("px","")),h="body"==d.container?d.location:"none",i=d.backcolor,j=d.textcolor,k=d.textalign,l=d.templatename,m=d.delay,n=a(d.template);n.css({opacity:d.opacity}),n.css("visibility","visible"),n.find(".tooltip-content").css({background:i,"text-align":k}).html(d.title+d.clearfix),n.find(".tooltip-content").css({color:j,padding:f+"px"}),1==d.shadow&&n.find(".tooltip-content").css({"box-shadow":"1px 1px 3px 0px #888888"});var o=h,p=h.split("-")[0],q=o,r=p;n.removeClass(h).addClass(o),n.find(".tooltip-arrow").removeClass(h).addClass(o).css("border-"+p+"-color",i);var s=d.container;if("body"!=d.container?(n.addClass("incontainer"),s="#"+d.container,a(s).children().each(function(){a(this).remove()})):(n.removeClass("incontainer"),s="body"),a(s).append(n),"click"==b.data.settings.trigger){var t=a('<div id="tooltip-clickoutside"></div>');t.css({width:"100%",height:"100%",position:"absolute",top:a(document).scrollTop()+"px",left:"0px"}),a("body").append(t),t.bind("click",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:b.data.$toggle},b.data.$plugin.mouseOutHandler),b.data.$toggle=!1,this.toggle=!1}else"hoverable"==b.data.settings.trigger&&b.data.element.unbind("mouseenter");if("body"==d.container){n.offset({top:0,left:0});var u=n.outerWidth(),v=n.outerHeight(),w=a(document).width(),x=scrollbarWidth(),y=a(document).width()-a(window).width();y>0&&(w-=x),w>a(window).width()&&(w=a(window).width()-x);var z=a(document).height();y>x&&(z-=x),
// bug in width property - disabled 7th feb 2014            
//if (tooltipWidth < tooltip_width) {
//    tooltip_width = tooltipWidth;
//}
0!=g?(2*g>w?g=Math.floor(w/2-30):
// no change
g-=30,1.5*g>w/2&&(g=Math.floor(w/2-30))):g=680>w?Math.floor(w/2-30):340,n.css({"max-width":g}),u=n.outerWidth(),v=n.outerHeight();var A=c.context,B=A.offsetWidth,C=A.offsetHeight,D=c.offset().top,E=c.offset().left;
// image map + hotspots
if("area"==A.tagName.toLowerCase()){var F=A.parentElement.getAttribute("name"),G=A.getAttribute("shape").toLowerCase(),H=a("img[usemap='#"+F+"']").offset().top,I=a("img[usemap='#"+F+"']").offset().left,J=parseInt(A.getAttribute("coords").split(",")[0]),K=parseInt(A.getAttribute("coords").split(",")[1]),L=parseInt(A.getAttribute("coords").split(",")[2]),M=parseInt(A.getAttribute("coords").split(",")[3]||L),N={top:parseInt(H+K),left:parseInt(I+J)};if("circle"==G&&(N={top:parseInt(H+K-L),left:parseInt(I+J-L)},L*=2,M*=2),"rect"==G&&(N={top:parseInt(H+K),left:parseInt(I+J)},L-=J,M-=K),"poly"==G){
// add coords -> X, Y to array
for(var O=new Array,P=A.getAttribute("coords").split(","),Q=0;Q<P.length;)O.push({x:parseInt(P[Q]),y:parseInt(P[Q+1])}),Q+=2;
// get max X and Y --------------------
O.sort(function(a,b){var c=a.x,d=b.x;return c==d?0:c<d?1:-1});var R=O[0].x;O.sort(function(a,b){var c=a.y,d=b.y;return c==d?0:c<d?1:-1});var S=O[0].y;
// ------------------------------------
// get min X and Y --------------------
O.sort(function(a,b){var c=a.x,d=b.x;return c==d?0:c>d?1:-1});var T=O[0].x;O.sort(function(a,b){var c=a.y,d=b.y;return c==d?0:c>d?1:-1});var U=O[0].y;
// ------------------------------------
N={top:parseInt(H+U),left:parseInt(I+T)},L=R-T,M=S-U}E=N.left,D=N.top,B=L,C=M}E=Math.round(E),D=Math.round(D),B=Math.round(B),C=Math.round(C),n.offset({top:0,left:0});var V;switch(h){case"top":
// top
V={top:D-v-e,left:E-u/2+B/2};break;case"top-left":
// top-left
V={top:D-v-e,left:E};break;case"top-right":
// top-right
V={top:D-v-e,left:E-u+B};break;
// ************************           
case"right":
// right
V={top:D+C/2-v/2,left:E+B+e};break;case"right-top":
// right-top
V={top:D+C-v+8,left:E+B+e};break;case"right-bottom":
// right-bottom
V={top:D-8,left:E+B+e};break;
// ************************           
case"bottom":
// bottom
V={top:D+C+e,left:E-u/2+B/2};break;case"bottom-left":
// bottom-left
V={top:D+C+e,left:E};break;case"bottom-right":
// bottom-right
V={top:D+C+e,left:E-u+B};break;
// ************************           
case"left":
// left
V={top:D+C/2-v/2,left:E-u-e};break;case"left-top":
// left-top
V={top:D+C-v+8,left:E-u-e};break;case"left-bottom":
// left-bottom
V={top:D-8,left:E-u-e}}var W={top:0,left:0};W.left=V.left,W.top=V.top;var X=(null!=o.match("bottom")||"left"==o||"right"==o)&&("left"==o||"right"==o?v/2:v)>z-D-C;if((V.left<0||V.top<0||V.left+u>w||X)&&("top"==p||"bottom"==p||"left"==p||"right"==p)){var Y=!1;switch(p){case"top":V.top=D-v-e,V.left=E-u/2+B/2,Y=!0;break;case"bottom":V.top=D-v-e,V.left=E-u/2+B/2,Y=!0;break;case"left":var Z=o.replace(p+"-","");"top"==Z?(p="top",o="top-left",n.removeClass(q).addClass(o),n.find(".tooltip-arrow").removeClass(q).css("border-"+r+"-color","").addClass(o).css("border-"+p+"-color",i),r="top",q="top-left",n.removeClass(h).addClass(o),n.find(".tooltip-arrow").removeClass(h).addClass(o).css("border-"+p+"-color",i),u=n.outerWidth(),v=n.outerHeight(),V.top=D-v-e,V.left=E-u/2+B/2,W.left=E,W.top=D-v-e,X=(null!=o.match("bottom")||"left"==o||"right"==o)&&("left"==o||"right"==o?v/2:v)>z-D-C,V.left<0||V.top<0||V.left+u>w||X?Y=!0:(V.left=W.left,V.top=W.top)):"bottom"==Z?(p="bottom",o="bottom-left",n.removeClass(q).addClass(o),n.find(".tooltip-arrow").removeClass(q).css("border-"+r+"-color","").addClass(o).css("border-"+p+"-color",i),r="bottom",q="bottom-left",n.removeClass(h).addClass(o),n.find(".tooltip-arrow").removeClass(h).addClass(o).css("border-"+p+"-color",i),u=n.outerWidth(),v=n.outerHeight(),V.top=D+C+e,V.left=E-u/2+B/2,W.left=E,W.top=D+C+e,X=(null!=o.match("bottom")||"left"==o||"right"==o)&&("left"==o||"right"==o?v/2:v)>z-D-C,V.left<0||V.top<0||V.left+u>w||X?Y=!0:(V.left=W.left,V.top=W.top)):(p="top",o="top",n.removeClass(q).addClass(o),n.find(".tooltip-arrow").removeClass(q).css("border-"+r+"-color","").addClass(o).css("border-"+p+"-color",i),r="top",q="top",n.removeClass(h).addClass(o),n.find(".tooltip-arrow").removeClass(h).addClass(o).css("border-"+p+"-color",i),u=n.outerWidth(),v=n.outerHeight(),V.top=D-v-e,V.left=E-u/2+B/2,W.left=V.left,W.top=V.top,X=(null!=o.match("bottom")||"left"==o||"right"==o)&&("left"==o||"right"==o?v/2:v)>z-D-C,V.left<0||V.top<0||V.left+u>w||X?Y=!0:(V.left=W.left,V.top=W.top));break;case"right":var Z=o.replace(p+"-","");"top"==Z?(p="top",o="top-left",n.removeClass(q).addClass(o),n.find(".tooltip-arrow").removeClass(q).css("border-"+r+"-color","").addClass(o).css("border-"+p+"-color",i),r="top",q="top-left",n.removeClass(h).addClass(o),n.find(".tooltip-arrow").removeClass(h).addClass(o).css("border-"+p+"-color",i),u=n.outerWidth(),v=n.outerHeight(),V.top=D-v-e,V.left=E-u/2+B/2,W.left=E,W.top=D-v-e,X=(null!=o.match("bottom")||"left"==o||"right"==o)&&("left"==o||"right"==o?v/2:v)>z-D-C,V.left<0||V.top<0||V.left+u>w||X?Y=!0:(V.left=W.left,V.top=W.top)):"bottom"==Z?(p="bottom",o="bottom-left",n.removeClass(q).addClass(o),n.find(".tooltip-arrow").removeClass(q).css("border-"+r+"-color","").addClass(o).css("border-"+p+"-color",i),r="bottom",q="bottom-left",n.removeClass(h).addClass(o),n.find(".tooltip-arrow").removeClass(h).addClass(o).css("border-"+p+"-color",i),u=n.outerWidth(),v=n.outerHeight(),V.top=D-v-e,V.left=E-u/2+B/2,W.left=E,W.top=D+C+e,X=(null!=o.match("bottom")||"left"==o||"right"==o)&&("left"==o||"right"==o?v/2:v)>z-D-C,V.left<0||V.top<0||V.left+u>w||X?Y=!0:(V.left=W.left,V.top=W.top)):(p="top",o="top",n.removeClass(q).addClass(o),n.find(".tooltip-arrow").removeClass(q).css("border-"+r+"-color","").addClass(o).css("border-"+p+"-color",i),r="top",q="top",n.removeClass(h).addClass(o),n.find(".tooltip-arrow").removeClass(h).addClass(o).css("border-"+p+"-color",i),u=n.outerWidth(),v=n.outerHeight(),V.top=D-v-e,V.left=E-u/2+B/2,W.left=V.left,W.top=V.top,X=(null!=o.match("bottom")||"left"==o||"right"==o)&&("left"==o||"right"==o?v/2:v)>z-D-C,V.left<0||V.top<0||V.left+u>w||X?Y=!0:(V.left=W.left,V.top=W.top))}if(Y){var $=!1,_=!1;V.top<0?(
// bottom
p="bottom",o="bottom",V.top=D+C+e,_=!0,V.left<0&&(
// bottom-left
p="bottom",o="bottom-left",V.left=E,$=!0),V.left+u>w&&(
// set left here
V.left=E-u+B,V.left<0?(
// bottom
p="bottom",o="bottom",V.left=E-u/2+B/2,$=!0):(
// bottom-right
p="bottom",o="bottom-right",V.left=E-u+B,$=!0))):(
// top
p="top",o="top",V.top=D-v-e,_=!1,V.left<0&&(
// top-left
p="top",o="top-left",V.left=E,$=!0),V.left+u>w&&(
// set left here
V.left=E-u+B,V.left<0?(
// top
p="top",o="top",V.left=E-u/2+B/2,$=!0):(
// top-right
p="top",o="top-right",V.left=E-u+B,$=!0))),$||(_?(o=q.replace("top","bottom"),p=r.replace("top","bottom"),W.left<0?"bottom"!=p&&"top"!=p||(o=o.replace("right","left"),V.left=E):V.left=W.left):(o=q.replace("bottom","top"),p=r.replace("bottom","top"),W.left<0?"bottom"!=p&&"top"!=p||(o=o.replace("right","left"),V.left=E):V.left=W.left))}}if(n.removeClass(q).addClass(o),n.find(".tooltip-arrow").removeClass(q).css("border-"+r+"-color","").addClass(o).css("border-"+p+"-color",i),""!=l)if(n.find(".tooltip-content > .template").hasClass("template")){n.find(".tooltip-content > .template").addClass(l);var aa=n.find("."+l).css("background-color");n.find(".tooltip-arrow").css("border-"+r+"-color",""),n.find(".tooltip-arrow").css("border-"+p+"-color",aa),n.find(".tooltip-content").css({background:aa})}else if(n.find(".tooltip-content > .tooltip-menu").hasClass("tooltip-menu")){n.find(".tooltip-content > .tooltip-menu").addClass(l);var aa=n.find("."+l).css("background-color");n.find(".tooltip-arrow").css("border-"+r+"-color",""),n.find(".tooltip-arrow").css("border-"+p+"-color",aa),n.find(".tooltip-content").css({background:aa})}n.find(".tooltip-content > .video-wrapper").css({width:n.width()-2*f+"px"}),n.offset(V)}switch(n.hide(),c.removeAttr("title"),c.removeAttr("alt"),"hoverable"!=b.data.settings.trigger&&"click"!=b.data.settings.trigger||(m=0),p){case"top":n.delay(m).css({top:"-=20",opacity:0,display:"block"}).stop(!0,!0).animate({top:"+=20",opacity:d.opacity},150);break;case"bottom":n.delay(m).css({top:"+=20",opacity:0,display:"block"}).stop(!0,!0).animate({top:"-=20",opacity:d.opacity},150);break;case"left":n.delay(m).css({left:"-=20",opacity:0,display:"block"}).stop(!0,!0).animate({left:"+=20",opacity:d.opacity},150);break;case"right":n.delay(m).css({left:"+=20",opacity:0,display:"block"}).stop(!0,!0).animate({left:"-=20",opacity:d.opacity},150);break;default:n.delay(m).css({opacity:0,display:"block"}).stop(!0,!0).animate({opacity:d.opacity},150)}return b.data.$plugin.tooltip=n,b.data.$plugin.location=h,b.data.$plugin.tooltip_arrow_border=p,n=null,!1},mouseOutHandler:function(b){var c=b.data.$plugin.tooltip,d=(b.data.$plugin.location,!1);/*                 switch (e.data.$plugin.tooltip_arrow_border) {
                    case "top":
                        $(tooltip).stop(true, true).animate({ top: '-=20', opacity: 0 }, 150, function () { $(e.data.$plugin.tooltip).remove(); });
                        break;
                    case "bottom":
                        $(tooltip).stop(true, true).animate({ top: '+=20', opacity: 0 }, 150, function () { $(e.data.$plugin.tooltip).remove(); });
                        break;
                    case "left":
                        $(tooltip).stop(true, true).animate({ left: '-=20', opacity: 0 }, 150, function () { $(e.data.$plugin.tooltip).remove(); });
                        break;
                    case "right":
                        $(tooltip).stop(true, true).animate({ left: '+=20', opacity: 0 }, 150, function () { $(e.data.$plugin.tooltip).remove(); });
                        break;
                } */
return"hoverable"!=b.data.settings.trigger?"hover"==b.data.settings.trigger?(a(c).delay(b.data.settings.delay),d=!0):(d=!0,"click"==b.data.settings.trigger&&(b.data.settings.issticky?d=!0:(b.data.settings.interval=setInterval(function(){a(c).fadeOut(0,function(){a(b.data.$plugin.tooltip).remove()}),clearInterval(b.data.settings.interval),this.toggle=!1,b.data.$toggle=!1,b.data.element.unbind("click"),b.data.element.unbind("mouseleave"),b.data.element.bind("click",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:!1},b.data.$plugin.mouseOverHandler),b.data.element.bind("mouseleave",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:!1},b.data.$plugin.mouseOutHandler)},0==b.data.settings.delay?2e3:b.data.settings.delay),b.data.element.unbind("mouseleave"),a(c).find(".tooltip-content").bind("mouseenter",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:!0},function(){b.data.element.unbind("click"),b.data.element.unbind("mouseleave"),this.toggle=!0,b.data.$toggle=!0,clearInterval(b.data.settings.interval)}),a(c).find(".tooltip-content").bind("mouseleave",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:b.data.$toggle},function(){a(c).fadeOut(0,function(){a(b.data.$plugin.tooltip).remove()}),this.toggle=!1,b.data.$toggle=!1,b.data.element.unbind("click"),b.data.element.unbind("mouseleave"),b.data.element.bind("click",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:!1},b.data.$plugin.mouseOverHandler),b.data.element.bind("mouseleave",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:!1},b.data.$plugin.mouseOutHandler)}),d=!1))):(b.data.settings.interval=setInterval(function(){a(c).fadeOut(0,function(){a(b.data.$plugin.tooltip).remove()}),clearInterval(b.data.settings.interval),b.data.element.unbind("mouseleave"),b.data.element.unbind("mouseenter"),b.data.element.bind("mouseenter",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:!1},b.data.$plugin.mouseOverHandler),b.data.element.bind("mouseleave",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:!1},b.data.$plugin.mouseOutHandler)},0==b.data.settings.delay?2e3:b.data.settings.delay),b.data.element.unbind("mouseleave"),a(c).find(".tooltip-content").bind("mouseenter",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:!0},function(){b.data.element.unbind("mouseenter"),b.data.element.unbind("mouseleave"),this.toggle=!0,b.data.$toggle=!0,clearInterval(b.data.settings.interval)}),a(c).find(".tooltip-content").bind("mouseleave",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:!0},function(){a(c).fadeOut(0,function(){a(b.data.$plugin.tooltip).remove()}),this.toggle=!1,b.data.$toggle=!1,b.data.element.unbind("mouseleave"),b.data.element.unbind("mouseenter"),b.data.element.bind("mouseenter",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:!1},b.data.$plugin.mouseOverHandler),b.data.element.bind("mouseleave",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:!1},b.data.$plugin.mouseOutHandler)}),d=!1),d&&a(b.data.$plugin.tooltip).remove(),"click"==b.data.settings.trigger&&b.data.$toggle&&(a("body").find("#tooltip-clickoutside").remove(),this.toggle=!1,b.data.$toggle=!1,b.data.element.unbind("click"),b.data.element.unbind("mouseleave"),b.data.element.bind("click",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:b.data.$toggle},b.data.$plugin.mouseOverHandler),b.data.settings.issticky||b.data.element.bind("mouseleave",{settings:b.data.settings,element:b.data.element,$plugin:b.data.$plugin,$toggle:b.data.$toggle},b.data.$plugin.mouseOutHandler)),!1}},scrollbarWidth=function(){var b=a('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');
// Append our div, do our calculation and then remove it 
a("body").append(b);var c=a("div",b).innerWidth();b.css("overflow","scroll");var d=a("div",b).innerWidth();return a(b).remove(),c-d},a.fn.LiteTooltip.defaultSettings={location:"top",title:"",opacity:.89,backcolor:"#000000",textcolor:"#ffffff",template:'<div class="litetooltip-wrapper"><div class="tooltip-arrow"></div><div class="tooltip-content"></div></div>',margin:5,padding:10,width:0,textalign:"center",trigger:"hover",templatename:"",delay:0,issticky:!0,clearfix:'<div class="clear"></div>',container:"body",shadow:1}}(jQuery),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define("Noty",[],b):"object"==typeof exports?exports.Noty=b():a.Noty=b()}(this,function(){/******/
return function(a){/******/
/******/
// The require function
/******/
function b(d){/******/
/******/
// Check if module is in cache
/******/
if(c[d])/******/
return c[d].exports;/******/
// Create a new module (and put it into the cache)
/******/
var e=c[d]={/******/
i:d,/******/
l:!1,/******/
exports:{}};/******/
/******/
// Return the exports of the module
/******/
/******/
/******/
// Execute the module function
/******/
/******/
/******/
// Flag the module as loaded
/******/
return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}// webpackBootstrap
/******/
// The module cache
/******/
var c={};/******/
/******/
// Load entry module and return exports
/******/
/******/
/******/
/******/
// expose the modules object (__webpack_modules__)
/******/
/******/
/******/
// expose the module cache
/******/
/******/
/******/
// identity function for calling harmony imports with the correct context
/******/
/******/
/******/
// define getter function for harmony exports
/******/
/******/
/******/
// getDefaultExport function for compatibility with non-harmony modules
/******/
/******/
/******/
// Object.prototype.hasOwnProperty.call
/******/
/******/
/******/
// __webpack_public_path__
/******/
return b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){/******/
b.o(a,c)||/******/
Object.defineProperty(a,c,{/******/
configurable:!1,/******/
enumerable:!0,/******/
get:d})},b.n=function(a){/******/
var c=a&&a.__esModule?/******/
function(){return a["default"]}:/******/
function(){return a};/******/
/******/
return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=6)}([/* 0 */
/***/
function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a,b,c){var d=void 0,e=!!c;if(e){for(d in b)if(b.hasOwnProperty(d)&&b[d]===a)return!0}else for(d in b)if(b.hasOwnProperty(d)&&b[d]===a)return!0;return!1}function f(a){a=a||window.event,"undefined"!=typeof a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function g(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b="noty_"+a+"_";return b+="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})}function h(a){var b=a.offsetHeight,c=window.getComputedStyle(a);return b+=parseInt(c.marginTop)+parseInt(c.marginBottom)}function i(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];b=b.split(" ");for(var e=0;e<b.length;e++)document.addEventListener?a.addEventListener(b[e],c,d):document.attachEvent&&a.attachEvent("on"+b[e],c)}function j(a,b){var c="string"==typeof a?a:n(a);return c.indexOf(" "+b+" ")>=0}function k(a,b){var c=n(a),d=c+b;j(c,b)||(
// Trim the opening space.
a.className=d.substring(1))}function l(a,b){var c=n(a),d=void 0;j(a,b)&&(
// Replace the class name.
d=c.replace(" "+b+" "," "),
// Trim the opening and closing spaces.
a.className=d.substring(1,d.length-1))}function m(a){a.parentNode&&a.parentNode.removeChild(a)}function n(a){return(" "+(a&&a.className||"")+" ").replace(/\s+/gi," ")}function o(){function a(){t.PageHidden=document[g],d()}function b(){t.PageHidden=!0,d()}function c(){t.PageHidden=!1,d()}function d(){t.PageHidden?e():f()}function e(){setTimeout(function(){Object.keys(t.Store).forEach(function(a){t.Store.hasOwnProperty(a)&&t.Store[a].options.visibilityControl&&t.Store[a].stop()})},100)}function f(){setTimeout(function(){Object.keys(t.Store).forEach(function(a){t.Store.hasOwnProperty(a)&&t.Store[a].options.visibilityControl&&t.Store[a].resume()}),t.queueRenderAll()},100)}var g=void 0,h=void 0;"undefined"!=typeof document.hidden?(
// Opera 12.10 and Firefox 18 and later support
g="hidden",h="visibilitychange"):"undefined"!=typeof document.msHidden?(g="msHidden",h="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(g="webkitHidden",h="webkitvisibilitychange"),i(document,h,a),i(window,"blur",b),i(window,"focus",c)}function p(a){if(a.hasSound){var b=document.createElement("audio");a.options.sounds.sources.forEach(function(a){var c=document.createElement("source");c.src=a,c.type="audio/"+q(a),b.appendChild(c)}),a.barDom?a.barDom.appendChild(b):document.querySelector("body").appendChild(b),b.volume=a.options.sounds.volume,a.soundPlayed||(b.play(),a.soundPlayed=!0),b.onended=function(){m(b)}}}function q(a){return a.match(/\.([^.]+)$/)[1]}Object.defineProperty(b,"__esModule",{value:!0}),b.css=b.deepExtend=b.animationEndEvents=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.inArray=e,b.stopPropagation=f,b.generateID=g,b.outerHeight=h,b.addListener=i,b.hasClass=j,b.addClass=k,b.removeClass=l,b.remove=m,b.classList=n,b.visibilityChangeFlow=o,b.createAudioElements=p;var s=c(1),t=d(s);b.animationEndEvents="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",b.deepExtend=function u(a){a=a||{};for(var b=1;b<arguments.length;b++){var c=arguments[b];if(c)for(var d in c)c.hasOwnProperty(d)&&(Array.isArray(c[d])?a[d]=c[d]:"object"===r(c[d])&&null!==c[d]?a[d]=u(a[d],c[d]):a[d]=c[d])}return a},b.css=function(){function a(a){return a.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,b){return b.toUpperCase()})}function b(a){var b=document.body.style;if(a in b)return a;for(var c=e.length,d=a.charAt(0).toUpperCase()+a.slice(1),f=void 0;c--;)if(f=e[c]+d,f in b)return f;return a}function c(c){return c=a(c),f[c]||(f[c]=b(c))}function d(a,b,d){b=c(b),a.style[b]=d}var e=["Webkit","O","Moz","ms"],f={};return function(a,b){var c=arguments,e=void 0,f=void 0;if(2===c.length)for(e in b)b.hasOwnProperty(e)&&(f=b[e],void 0!==f&&b.hasOwnProperty(e)&&d(a,e,f));else d(a,c[1],c[2])}}()},/* 1 */
/***/
function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}/**
 * @param {string} queueName
 * @return {object}
 */
function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",b=0,c=B;return C.hasOwnProperty(a)&&(c=C[a].maxVisible,Object.keys(D).forEach(function(c){D[c].options.queue!==a||D[c].closed||b++})),{current:b,maxVisible:c}}/**
 * @param {Noty} ref
 * @return {void}
 */
function f(a){C.hasOwnProperty(a.options.queue)||(C[a.options.queue]={maxVisible:B,queue:[]}),C[a.options.queue].queue.push(a)}/**
 * @param {Noty} ref
 * @return {void}
 */
function g(a){if(C.hasOwnProperty(a.options.queue)){var b=[];Object.keys(C[a.options.queue].queue).forEach(function(c){C[a.options.queue].queue[c].id!==a.id&&b.push(C[a.options.queue].queue[c])}),C[a.options.queue].queue=b}}/**
 * @param {string} queueName
 * @return {void}
 */
function h(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";if(C.hasOwnProperty(a)){var b=C[a].queue.shift();b&&b.show()}}/**
 * @return {void}
 */
function i(){Object.keys(C).forEach(function(a){h(a)})}/**
 * @param {Noty} ref
 * @return {void}
 */
function j(a){var b=x.generateID("ghost"),c=document.createElement("div");c.setAttribute("id",b),x.css(c,{height:x.outerHeight(a.barDom)+"px"}),a.barDom.insertAdjacentHTML("afterend",c.outerHTML),x.remove(a.barDom),c=document.getElementById(b),x.addClass(c,"noty_fix_effects_height"),x.addListener(c,x.animationEndEvents,function(){x.remove(c)})}/**
 * @param {Noty} ref
 * @return {void}
 */
function k(a){q(a);var b='<div class="noty_body">'+a.options.text+"</div>"+m(a)+'<div class="noty_progressbar"></div>';a.barDom=document.createElement("div"),a.barDom.setAttribute("id",a.id),x.addClass(a.barDom,"noty_bar noty_type__"+a.options.type+" noty_theme__"+a.options.theme),a.barDom.innerHTML=b,t(a,"onTemplate")}/**
 * @param {Noty} ref
 * @return {boolean}
 */
function l(a){return!(!a.options.buttons||!Object.keys(a.options.buttons).length)}/**
 * @param {Noty} ref
 * @return {string}
 */
function m(a){if(l(a)){var b=document.createElement("div");return x.addClass(b,"noty_buttons"),Object.keys(a.options.buttons).forEach(function(c){b.appendChild(a.options.buttons[c].dom)}),a.options.buttons.forEach(function(a){b.appendChild(a.dom)}),b.outerHTML}return""}/**
 * @param {Noty} ref
 * @return {void}
 */
function n(a){a.options.modal&&(0===y&&p(a),b.DocModalCount=y+=1)}/**
 * @param {Noty} ref
 * @return {void}
 */
function o(a){if(a.options.modal&&y>0&&(b.DocModalCount=y-=1,y<=0)){var c=document.querySelector(".noty_modal");c&&(x.removeClass(c,"noty_modal_open"),x.addClass(c,"noty_modal_close"),x.addListener(c,x.animationEndEvents,function(){x.remove(c)}))}}/**
 * @return {void}
 */
function p(){var a=document.querySelector("body"),b=document.createElement("div");x.addClass(b,"noty_modal"),a.insertBefore(b,a.firstChild),x.addClass(b,"noty_modal_open"),x.addListener(b,x.animationEndEvents,function(){x.removeClass(b,"noty_modal_open")})}/**
 * @param {Noty} ref
 * @return {void}
 */
function q(a){if(a.options.container)return void(a.layoutDom=document.querySelector(a.options.container));var b="noty_layout__"+a.options.layout;a.layoutDom=document.querySelector("div#"+b),a.layoutDom||(a.layoutDom=document.createElement("div"),a.layoutDom.setAttribute("id",b),x.addClass(a.layoutDom,"noty_layout"),document.querySelector("body").appendChild(a.layoutDom))}/**
 * @param {Noty} ref
 * @return {void}
 */
function r(a){a.options.timeout&&(a.options.progressBar&&a.progressDom&&x.css(a.progressDom,{transition:"width "+a.options.timeout+"ms linear",width:"0%"}),clearTimeout(a.closeTimer),a.closeTimer=setTimeout(function(){a.close()},a.options.timeout))}/**
 * @param {Noty} ref
 * @return {void}
 */
function s(a){a.options.timeout&&a.closeTimer&&(clearTimeout(a.closeTimer),a.closeTimer=-1,a.options.progressBar&&a.progressDom&&x.css(a.progressDom,{transition:"width 0ms linear",width:"100%"}))}/**
 * @param {Noty} ref
 * @param {string} eventName
 * @return {void}
 */
function t(a,b){a.listeners.hasOwnProperty(b)&&a.listeners[b].forEach(function(b){"function"==typeof b&&b.apply(a)})}/**
 * @param {Noty} ref
 * @return {void}
 */
function u(a){t(a,"afterShow"),r(a),x.addListener(a.barDom,"mouseenter",function(){s(a)}),x.addListener(a.barDom,"mouseleave",function(){r(a)})}/**
 * @param {Noty} ref
 * @return {void}
 */
function v(a){delete D[a.id],a.closing=!1,t(a,"afterClose"),x.remove(a.barDom),0!==a.layoutDom.querySelectorAll(".noty_bar").length||a.options.container||x.remove(a.layoutDom),(x.inArray("docVisible",a.options.titleCount.conditions)||x.inArray("docHidden",a.options.titleCount.conditions))&&A.decrement(),h(a.options.queue)}Object.defineProperty(b,"__esModule",{value:!0}),b.Defaults=b.Store=b.Queues=b.DefaultMaxVisible=b.docTitle=b.DocModalCount=b.PageHidden=void 0,b.getQueueCounts=e,b.addToQueue=f,b.removeFromQueue=g,b.queueRender=h,b.queueRenderAll=i,b.ghostFix=j,b.build=k,b.hasButtons=l,b.handleModal=n,b.handleModalClose=o,b.queueClose=r,b.dequeueClose=s,b.fire=t,b.openFlow=u,b.closeFlow=v;var w=c(0),x=d(w),y=(b.PageHidden=!1,b.DocModalCount=0),z={originalTitle:null,count:0,changed:!1,timer:-1},A=b.docTitle={increment:function(){z.count++,A._update()},decrement:function(){return z.count--,z.count<=0?void A._clear():void A._update()},_update:function(){var a=document.title;z.changed?document.title="("+z.count+") "+z.originalTitle:(z.originalTitle=a,document.title="("+z.count+") "+a,z.changed=!0)},_clear:function(){z.changed&&(z.count=0,document.title=z.originalTitle,z.changed=!1)}},B=b.DefaultMaxVisible=5,C=b.Queues={global:{maxVisible:B,queue:[]}},D=b.Store={};b.Defaults={type:"alert",layout:"topRight",theme:"mint",text:"",timeout:!1,progressBar:!0,closeWith:["click"],animation:{open:"noty_effects_open",close:"noty_effects_close"},id:!1,force:!1,killer:!1,queue:"global",container:!1,buttons:[],callbacks:{beforeShow:null,onShow:null,afterShow:null,onClose:null,afterClose:null,onHover:null,onTemplate:null},sounds:{sources:[],volume:1,conditions:[]},titleCount:{conditions:[]},modal:!1,visibilityControl:!0}},/* 2 */
/***/
function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.NotyButton=void 0;var f=c(0),g=d(f);b.NotyButton=function h(a,b,c){var d=this,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e(this,h),this.dom=document.createElement("button"),this.dom.innerHTML=a,this.id=f.id=f.id||g.generateID("button"),this.cb=c,Object.keys(f).forEach(function(a){d.dom.setAttribute(a,f[a])}),g.addClass(this.dom,b||"noty_btn"),this}},/* 3 */
/***/
function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.Push=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/service-worker.js";return d(this,a),this.subData={},this.workerPath=b,this.listeners={onPermissionGranted:[],onPermissionDenied:[],onSubscriptionSuccess:[],onSubscriptionCancel:[],onWorkerError:[],onWorkerSuccess:[],onWorkerNotSupported:[]},this}/**
   * @param {string} eventName
   * @param {function} cb
   * @return {Push}
   */
return e(a,[{key:"on",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return"function"==typeof b&&this.listeners.hasOwnProperty(a)&&this.listeners[a].push(b),this}},{key:"fire",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.listeners.hasOwnProperty(a)&&this.listeners[a].forEach(function(a){"function"==typeof a&&a.apply(b,c)})}},{key:"create",value:function(){console.log("NOT IMPLEMENTED YET")}},{key:"isSupported",value:function(){var a=!1;try{a=window.Notification||window.webkitNotifications||navigator.mozNotification||window.external&&void 0!==window.external.msIsSiteMode()}catch(b){}return a}},{key:"getPermissionStatus",value:function(){var a="default";if(window.Notification&&window.Notification.permissionLevel)a=window.Notification.permissionLevel;else if(window.webkitNotifications&&window.webkitNotifications.checkPermission)switch(window.webkitNotifications.checkPermission()){case 1:a="default";break;case 0:a="granted";break;default:a="denied"}else window.Notification&&window.Notification.permission?a=window.Notification.permission:navigator.mozNotification?a="granted":window.external&&void 0!==window.external.msIsSiteMode()&&(a=window.external.msIsSiteMode()?"granted":"default");return a.toString().toLowerCase()}},{key:"getEndpoint",value:function(a){var b=a.endpoint,c=a.subscriptionId;
// fix for Chrome < 45
return c&&b.indexOf(c)===-1&&(b+="/"+c),b}},{key:"isSWRegistered",value:function(){try{return"activated"===navigator.serviceWorker.controller.state}catch(a){return!1}}},{key:"unregisterWorker",value:function(){var a=this;"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(b){var c=!0,d=!1,e=void 0;try{for(var f,g=b[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value;h.unregister(),a.fire("onSubscriptionCancel")}}catch(i){d=!0,e=i}finally{try{!c&&g["return"]&&g["return"]()}finally{if(d)throw e}}})}},{key:"requestSubscription",value:function(){var a=this,b=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],c=this,d=this.getPermissionStatus(),e=function(d){"granted"===d?(a.fire("onPermissionGranted"),"serviceWorker"in navigator?navigator.serviceWorker.register(a.workerPath).then(function(){navigator.serviceWorker.ready.then(function(a){c.fire("onWorkerSuccess"),a.pushManager.subscribe({userVisibleOnly:b}).then(function(a){var b=a.getKey("p256dh"),d=a.getKey("auth");c.subData={endpoint:c.getEndpoint(a),p256dh:b?window.btoa(String.fromCharCode.apply(null,new Uint8Array(b))):null,auth:d?window.btoa(String.fromCharCode.apply(null,new Uint8Array(d))):null},c.fire("onSubscriptionSuccess",[c.subData])})["catch"](function(a){c.fire("onWorkerError",[a])})})}):c.fire("onWorkerNotSupported")):"denied"===d&&(a.fire("onPermissionDenied"),a.unregisterWorker())};"default"===d?window.Notification&&window.Notification.requestPermission?window.Notification.requestPermission(e):window.webkitNotifications&&window.webkitNotifications.checkPermission&&window.webkitNotifications.requestPermission(e):e(d)}}]),a}()},/* 4 */
/***/
function(a,b,c){/* WEBPACK VAR INJECTION */
(function(b,d){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.0
 */
!function(b,c){a.exports=c()}(this,function(){"use strict";function a(a){return"function"==typeof a||"object"==typeof a&&null!==a}function e(a){return"function"==typeof a}function f(a){X=a}function g(a){Y=a}
// node
function h(){
// node version 0.10.x displays a deprecation warning when nextTick is used recursively
// see https://github.com/cujojs/when/issues/410 for details
return function(){return b.nextTick(m)}}
// vertx
function i(){return"undefined"!=typeof W?function(){W(m)}:l()}function j(){var a=0,b=new _(m),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}
// web worker
function k(){var a=new MessageChannel;return a.port1.onmessage=m,function(){return a.port2.postMessage(0)}}function l(){
// Store setTimeout reference so es6-promise will be unaffected by
// other code modifying setTimeout (like sinon.useFakeTimers())
var a=setTimeout;return function(){return a(m,1)}}function m(){for(var a=0;a<V;a+=2){var b=ca[a],c=ca[a+1];b(c),ca[a]=void 0,ca[a+1]=void 0}V=0}function n(){try{var a=c(9);return W=a.runOnLoop||a.runOnContext,i()}catch(b){return l()}}function o(a,b){var c=arguments,d=this,e=new this.constructor(q);void 0===e[ea]&&J(e);var f=d._state;return f?!function(){var a=c[f-1];Y(function(){return G(f,e,a,d._result)})}():C(d,e,a,b),e}/**
  `Promise.resolve` returns a promise that will become resolved with the
  passed `value`. It is shorthand for the following:

  ```javascript
  let promise = new Promise(function(resolve, reject){
    resolve(1);
  });

  promise.then(function(value){
    // value === 1
  });
  ```

  Instead of writing the above, your code now simply becomes the following:

  ```javascript
  let promise = Promise.resolve(1);

  promise.then(function(value){
    // value === 1
  });
  ```

  @method resolve
  @static
  @param {Any} value value that the returned promise will be resolved with
  Useful for tooling.
  @return {Promise} a promise that will become fulfilled with the given
  `value`
*/
function p(a){/*jshint validthis:true */
var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(q);return y(c,a),c}function q(){}function r(){return new TypeError("You cannot resolve a promise with itself")}function s(){return new TypeError("A promises callback cannot return that same promise.")}function t(a){try{return a.then}catch(b){return ia.error=b,ia}}function u(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function v(a,b,c){Y(function(a){var d=!1,e=u(c,b,function(c){d||(d=!0,b!==c?y(a,c):A(a,c))},function(b){d||(d=!0,B(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,B(a,e))},a)}function w(a,b){b._state===ga?A(a,b._result):b._state===ha?B(a,b._result):C(b,void 0,function(b){return y(a,b)},function(b){return B(a,b)})}function x(a,b,c){b.constructor===a.constructor&&c===o&&b.constructor.resolve===p?w(a,b):c===ia?(B(a,ia.error),ia.error=null):void 0===c?A(a,b):e(c)?v(a,b,c):A(a,b)}function y(b,c){b===c?B(b,r()):a(c)?x(b,c,t(c)):A(b,c)}function z(a){a._onerror&&a._onerror(a._result),D(a)}function A(a,b){a._state===fa&&(a._result=b,a._state=ga,0!==a._subscribers.length&&Y(D,a))}function B(a,b){a._state===fa&&(a._state=ha,a._result=b,Y(z,a))}function C(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+ga]=c,e[f+ha]=d,0===f&&a._state&&Y(D,a)}function D(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?G(c,d,e,f):e(f);a._subscribers.length=0}}function E(){this.error=null}function F(a,b){try{return a(b)}catch(c){return ja.error=c,ja}}function G(a,b,c,d){var f=e(c),g=void 0,h=void 0,i=void 0,j=void 0;if(f){if(g=F(c,d),g===ja?(j=!0,h=g.error,g.error=null):i=!0,b===g)return void B(b,s())}else g=d,i=!0;b._state!==fa||(f&&i?y(b,g):j?B(b,h):a===ga?A(b,g):a===ha&&B(b,g))}function H(a,b){try{b(function(b){y(a,b)},function(b){B(a,b)})}catch(c){B(a,c)}}function I(){return ka++}function J(a){a[ea]=ka++,a._state=void 0,a._result=void 0,a._subscribers=[]}function K(a,b){this._instanceConstructor=a,this.promise=new a(q),this.promise[ea]||J(this.promise),U(b)?(this._input=b,this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&A(this.promise,this._result))):B(this.promise,L())}function L(){return new Error("Array Methods must be provided an Array")}/**
  `Promise.all` accepts an array of promises, and returns a new promise which
  is fulfilled with an array of fulfillment values for the passed promises, or
  rejected with the reason of the first passed promise to be rejected. It casts all
  elements of the passed iterable to promises as it runs this algorithm.

  Example:

  ```javascript
  let promise1 = resolve(1);
  let promise2 = resolve(2);
  let promise3 = resolve(3);
  let promises = [ promise1, promise2, promise3 ];

  Promise.all(promises).then(function(array){
    // The array here would be [ 1, 2, 3 ];
  });
  ```

  If any of the `promises` given to `all` are rejected, the first promise
  that is rejected will be given as an argument to the returned promises's
  rejection handler. For example:

  Example:

  ```javascript
  let promise1 = resolve(1);
  let promise2 = reject(new Error("2"));
  let promise3 = reject(new Error("3"));
  let promises = [ promise1, promise2, promise3 ];

  Promise.all(promises).then(function(array){
    // Code here never runs because there are rejected promises!
  }, function(error) {
    // error.message === "2"
  });
  ```

  @method all
  @static
  @param {Array} entries array of promises
  @param {String} label optional string for labeling the promise.
  Useful for tooling.
  @return {Promise} promise that is fulfilled when all `promises` have been
  fulfilled, or rejected if any of them become rejected.
  @static
*/
function M(a){return new K(this,a).promise}/**
  `Promise.race` returns a new promise which is settled in the same way as the
  first passed promise to settle.

  Example:

  ```javascript
  let promise1 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 1');
    }, 200);
  });

  let promise2 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 2');
    }, 100);
  });

  Promise.race([promise1, promise2]).then(function(result){
    // result === 'promise 2' because it was resolved before promise1
    // was resolved.
  });
  ```

  `Promise.race` is deterministic in that only the state of the first
  settled promise matters. For example, even if other promises given to the
  `promises` array argument are resolved, but the first settled promise has
  become rejected before the other promises became fulfilled, the returned
  promise will become rejected:

  ```javascript
  let promise1 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 1');
    }, 200);
  });

  let promise2 = new Promise(function(resolve, reject){
    setTimeout(function(){
      reject(new Error('promise 2'));
    }, 100);
  });

  Promise.race([promise1, promise2]).then(function(result){
    // Code here never runs
  }, function(reason){
    // reason.message === 'promise 2' because promise 2 became rejected before
    // promise 1 became fulfilled
  });
  ```

  An example real-world use case is implementing timeouts:

  ```javascript
  Promise.race([ajax('foo.json'), timeout(5000)])
  ```

  @method race
  @static
  @param {Array} promises array of promises to observe
  Useful for tooling.
  @return {Promise} a promise which settles in the same way as the first passed
  promise to settle.
*/
function N(a){/*jshint validthis:true */
var b=this;return new b(U(a)?function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})}/**
  `Promise.reject` returns a promise rejected with the passed `reason`.
  It is shorthand for the following:

  ```javascript
  let promise = new Promise(function(resolve, reject){
    reject(new Error('WHOOPS'));
  });

  promise.then(function(value){
    // Code here doesn't run because the promise is rejected!
  }, function(reason){
    // reason.message === 'WHOOPS'
  });
  ```

  Instead of writing the above, your code now simply becomes the following:

  ```javascript
  let promise = Promise.reject(new Error('WHOOPS'));

  promise.then(function(value){
    // Code here doesn't run because the promise is rejected!
  }, function(reason){
    // reason.message === 'WHOOPS'
  });
  ```

  @method reject
  @static
  @param {Any} reason value that the returned promise will be rejected with.
  Useful for tooling.
  @return {Promise} a promise rejected with the given `reason`.
*/
function O(a){/*jshint validthis:true */
var b=this,c=new b(q);return B(c,a),c}function P(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}/**
  Promise objects represent the eventual result of an asynchronous operation. The
  primary way of interacting with a promise is through its `then` method, which
  registers callbacks to receive either a promise's eventual value or the reason
  why the promise cannot be fulfilled.

  Terminology
  -----------

  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.
  - `thenable` is an object or function that defines a `then` method.
  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).
  - `exception` is a value that is thrown using the throw statement.
  - `reason` is a value that indicates why a promise was rejected.
  - `settled` the final resting state of a promise, fulfilled or rejected.

  A promise can be in one of three states: pending, fulfilled, or rejected.

  Promises that are fulfilled have a fulfillment value and are in the fulfilled
  state.  Promises that are rejected have a rejection reason and are in the
  rejected state.  A fulfillment value is never a thenable.

  Promises can also be said to *resolve* a value.  If this value is also a
  promise, then the original promise's settled state will match the value's
  settled state.  So a promise that *resolves* a promise that rejects will
  itself reject, and a promise that *resolves* a promise that fulfills will
  itself fulfill.


  Basic Usage:
  ------------

  ```js
  let promise = new Promise(function(resolve, reject) {
    // on success
    resolve(value);

    // on failure
    reject(reason);
  });

  promise.then(function(value) {
    // on fulfillment
  }, function(reason) {
    // on rejection
  });
  ```

  Advanced Usage:
  ---------------

  Promises shine when abstracting away asynchronous interactions such as
  `XMLHttpRequest`s.

  ```js
  function getJSON(url) {
    return new Promise(function(resolve, reject){
      let xhr = new XMLHttpRequest();

      xhr.open('GET', url);
      xhr.onreadystatechange = handler;
      xhr.responseType = 'json';
      xhr.setRequestHeader('Accept', 'application/json');
      xhr.send();

      function handler() {
        if (this.readyState === this.DONE) {
          if (this.status === 200) {
            resolve(this.response);
          } else {
            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));
          }
        }
      };
    });
  }

  getJSON('/posts.json').then(function(json) {
    // on fulfillment
  }, function(reason) {
    // on rejection
  });
  ```

  Unlike callbacks, promises are great composable primitives.

  ```js
  Promise.all([
    getJSON('/posts'),
    getJSON('/comments')
  ]).then(function(values){
    values[0] // => postsJSON
    values[1] // => commentsJSON

    return values;
  });
  ```

  @class Promise
  @param {function} resolver
  Useful for tooling.
  @constructor
*/
function R(a){this[ea]=I(),this._result=this._state=void 0,this._subscribers=[],q!==a&&("function"!=typeof a&&P(),this instanceof R?H(this,a):Q())}function S(){var a=void 0;if("undefined"!=typeof d)a=d;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(b){throw new Error("polyfill failed because global object is unavailable in this environment")}var c=a.Promise;if(c){var e=null;try{e=Object.prototype.toString.call(c.resolve())}catch(b){}if("[object Promise]"===e&&!c.cast)return}a.Promise=R}var T=void 0;T=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var U=T,V=0,W=void 0,X=void 0,Y=function(a,b){ca[V]=a,ca[V+1]=b,V+=2,2===V&&(
// If len is 2, that means that we need to schedule an async flush.
// If additional callbacks are queued before the queue is flushed, they
// will be processed by this flush that we are scheduling.
X?X(m):da())},Z="undefined"!=typeof window?window:void 0,$=Z||{},_=$.MutationObserver||$.WebKitMutationObserver,aa="undefined"==typeof self&&"undefined"!=typeof b&&"[object process]"==={}.toString.call(b),ba="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ca=new Array(1e3),da=void 0;
// Decide what async method to use to triggering processing of queued callbacks:
da=aa?h():_?j():ba?k():void 0===Z?n():l();var ea=Math.random().toString(36).substring(16),fa=void 0,ga=1,ha=2,ia=new E,ja=new E,ka=0;
// Strange compat..
return K.prototype._enumerate=function(){for(var a=this.length,b=this._input,c=0;this._state===fa&&c<a;c++)this._eachEntry(b[c],c)},K.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===p){var e=t(a);if(e===o&&a._state!==fa)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===R){var f=new c(q);x(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)},K.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===fa&&(this._remaining--,a===ha?B(d,c):this._result[b]=c),0===this._remaining&&A(d,this._result)},K.prototype._willSettleAt=function(a,b){var c=this;C(a,void 0,function(a){return c._settledAt(ga,b,a)},function(a){return c._settledAt(ha,b,a)})},R.all=M,R.race=N,R.resolve=p,R.reject=O,R._setScheduler=f,R._setAsap=g,R._asap=Y,R.prototype={constructor:R,/**
    The primary way of interacting with a promise is through its `then` method,
    which registers callbacks to receive either a promise's eventual value or the
    reason why the promise cannot be fulfilled.
  
    ```js
    findUser().then(function(user){
      // user is available
    }, function(reason){
      // user is unavailable, and you are given the reason why
    });
    ```
  
    Chaining
    --------
  
    The return value of `then` is itself a promise.  This second, 'downstream'
    promise is resolved with the return value of the first promise's fulfillment
    or rejection handler, or rejected if the handler throws an exception.
  
    ```js
    findUser().then(function (user) {
      return user.name;
    }, function (reason) {
      return 'default name';
    }).then(function (userName) {
      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it
      // will be `'default name'`
    });
  
    findUser().then(function (user) {
      throw new Error('Found user, but still unhappy');
    }, function (reason) {
      throw new Error('`findUser` rejected and we're unhappy');
    }).then(function (value) {
      // never reached
    }, function (reason) {
      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.
      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.
    });
    ```
    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.
  
    ```js
    findUser().then(function (user) {
      throw new PedagogicalException('Upstream error');
    }).then(function (value) {
      // never reached
    }).then(function (value) {
      // never reached
    }, function (reason) {
      // The `PedgagocialException` is propagated all the way down to here
    });
    ```
  
    Assimilation
    ------------
  
    Sometimes the value you want to propagate to a downstream promise can only be
    retrieved asynchronously. This can be achieved by returning a promise in the
    fulfillment or rejection handler. The downstream promise will then be pending
    until the returned promise is settled. This is called *assimilation*.
  
    ```js
    findUser().then(function (user) {
      return findCommentsByAuthor(user);
    }).then(function (comments) {
      // The user's comments are now available
    });
    ```
  
    If the assimliated promise rejects, then the downstream promise will also reject.
  
    ```js
    findUser().then(function (user) {
      return findCommentsByAuthor(user);
    }).then(function (comments) {
      // If `findCommentsByAuthor` fulfills, we'll have the value here
    }, function (reason) {
      // If `findCommentsByAuthor` rejects, we'll have the reason here
    });
    ```
  
    Simple Example
    --------------
  
    Synchronous Example
  
    ```javascript
    let result;
  
    try {
      result = findResult();
      // success
    } catch(reason) {
      // failure
    }
    ```
  
    Errback Example
  
    ```js
    findResult(function(result, err){
      if (err) {
        // failure
      } else {
        // success
      }
    });
    ```
  
    Promise Example;
  
    ```javascript
    findResult().then(function(result){
      // success
    }, function(reason){
      // failure
    });
    ```
  
    Advanced Example
    --------------
  
    Synchronous Example
  
    ```javascript
    let author, books;
  
    try {
      author = findAuthor();
      books  = findBooksByAuthor(author);
      // success
    } catch(reason) {
      // failure
    }
    ```
  
    Errback Example
  
    ```js
  
    function foundBooks(books) {
  
    }
  
    function failure(reason) {
  
    }
  
    findAuthor(function(author, err){
      if (err) {
        failure(err);
        // failure
      } else {
        try {
          findBoooksByAuthor(author, function(books, err) {
            if (err) {
              failure(err);
            } else {
              try {
                foundBooks(books);
              } catch(reason) {
                failure(reason);
              }
            }
          });
        } catch(error) {
          failure(err);
        }
        // success
      }
    });
    ```
  
    Promise Example;
  
    ```javascript
    findAuthor().
      then(findBooksByAuthor).
      then(function(books){
        // found books
    }).catch(function(reason){
      // something went wrong
    });
    ```
  
    @method then
    @param {Function} onFulfilled
    @param {Function} onRejected
    Useful for tooling.
    @return {Promise}
  */
then:o,/**
    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same
    as the catch block of a try/catch statement.
  
    ```js
    function findAuthor(){
      throw new Error('couldn't find that author');
    }
  
    // synchronous
    try {
      findAuthor();
    } catch(reason) {
      // something went wrong
    }
  
    // async with promises
    findAuthor().catch(function(reason){
      // something went wrong
    });
    ```
  
    @method catch
    @param {Function} onRejection
    Useful for tooling.
    @return {Promise}
  */
"catch":function(a){return this.then(null,a)}},R.polyfill=S,R.Promise=R,R})}).call(b,c(7),c(8))},/* 5 */
/***/
function(a,b){},/* 6 */
/***/
function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();/* global VERSION */
c(5);var h=c(4),i=e(h),j=c(0),k=d(j),l=c(1),m=d(l),n=c(2),o=c(3),p=function(){/**
   * @param {object} options
   * @return {Noty}
   */
function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,a),this.options=k.deepExtend({},m.Defaults,b),this.id=this.options.id||k.generateID("bar"),this.closeTimer=-1,this.barDom=null,this.layoutDom=null,this.progressDom=null,this.showing=!1,this.shown=!1,this.closed=!1,this.closing=!1,this.killable=this.options.timeout||this.options.closeWith.length>0,this.hasSound=this.options.sounds.sources.length>0,this.soundPlayed=!1,this.listeners={beforeShow:[],onShow:[],afterShow:[],onClose:[],afterClose:[],onHover:[],onTemplate:[]},this.promises={show:null,close:null},this.on("beforeShow",this.options.callbacks.beforeShow),this.on("onShow",this.options.callbacks.onShow),this.on("afterShow",this.options.callbacks.afterShow),this.on("onClose",this.options.callbacks.onClose),this.on("afterClose",this.options.callbacks.afterClose),this.on("onHover",this.options.callbacks.onHover),this.on("onTemplate",this.options.callbacks.onTemplate),this}/**
   * @param {string} eventName
   * @param {function} cb
   * @return {Noty}
   */
return g(a,[{key:"on",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return"function"==typeof b&&this.listeners.hasOwnProperty(a)&&this.listeners[a].push(b),this}},{key:"show",value:function(){var b=this;if(this.options.killer!==!0||m.PageHidden)if("string"!=typeof this.options.killer||m.PageHidden){var c=m.getQueueCounts(this.options.queue);if(c.current>=c.maxVisible||m.PageHidden)return m.addToQueue(this),m.PageHidden&&this.hasSound&&k.inArray("docHidden",this.options.sounds.conditions)&&k.createAudioElements(this),m.PageHidden&&k.inArray("docHidden",this.options.titleCount.conditions)&&m.docTitle.increment(),this}else a.closeAll(this.options.killer);else a.closeAll();if(m.Store[this.id]=this,m.fire(this,"beforeShow"),this.showing=!0,this.closing)return this.showing=!1,this;if(m.build(this),m.handleModal(this),this.options.force?this.layoutDom.insertBefore(this.barDom,this.layoutDom.firstChild):this.layoutDom.appendChild(this.barDom),this.hasSound&&!this.soundPlayed&&k.inArray("docVisible",this.options.sounds.conditions)&&k.createAudioElements(this),k.inArray("docVisible",this.options.titleCount.conditions)&&m.docTitle.increment(),this.shown=!0,this.closed=!1,
// bind button events if any
m.hasButtons(this)&&Object.keys(this.options.buttons).forEach(function(a){var c=b.barDom.querySelector("#"+b.options.buttons[a].id);k.addListener(c,"click",function(c){k.stopPropagation(c),b.options.buttons[a].cb()})}),this.progressDom=this.barDom.querySelector(".noty_progressbar"),k.inArray("click",this.options.closeWith)&&(k.addClass(this.barDom,"noty_close_with_click"),k.addListener(this.barDom,"click",function(a){k.stopPropagation(a),b.close()},!1)),k.addListener(this.barDom,"mouseenter",function(){m.fire(b,"onHover")},!1),this.options.timeout&&k.addClass(this.barDom,"noty_has_timeout"),k.inArray("button",this.options.closeWith)){k.addClass(this.barDom,"noty_close_with_button");var d=document.createElement("div");k.addClass(d,"noty_close_button"),d.innerHTML="×",this.barDom.appendChild(d),k.addListener(d,"click",function(a){k.stopPropagation(a),b.close()},!1)}return m.fire(this,"onShow"),null===this.options.animation.open?this.promises.show=new i["default"](function(a){a()}):"function"==typeof this.options.animation.open?this.promises.show=new i["default"](this.options.animation.open.bind(this)):(k.addClass(this.barDom,this.options.animation.open),this.promises.show=new i["default"](function(a){k.addListener(b.barDom,k.animationEndEvents,function(){k.removeClass(b.barDom,b.options.animation.open),a()})})),this.promises.show.then(function(){var a=b;setTimeout(function(){m.openFlow(a)},100)}),this}},{key:"stop",value:function(){return m.dequeueClose(this),this}},{key:"resume",value:function(){return m.queueClose(this),this}},{key:"setTimeout",value:function(a){function b(b){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a){if(this.stop(),this.options.timeout=a,this.barDom){this.options.timeout?k.addClass(this.barDom,"noty_has_timeout"):k.removeClass(this.barDom,"noty_has_timeout");var b=this;setTimeout(function(){
// ugly fix for progressbar display bug
b.resume()},100)}return this})},{key:"setText",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.barDom&&(this.barDom.querySelector(".noty_body").innerHTML=a),b&&(this.options.text=a),this}},{key:"setType",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.barDom){var d=k.classList(this.barDom).split(" ");d.forEach(function(a){"noty_type__"===a.substring(0,11)&&k.removeClass(b.barDom,a)}),k.addClass(this.barDom,"noty_type__"+a)}return c&&(this.options.type=a),this}},{key:"setTheme",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.barDom){var d=k.classList(this.barDom).split(" ");d.forEach(function(a){"noty_theme__"===a.substring(0,12)&&k.removeClass(b.barDom,a)}),k.addClass(this.barDom,"noty_theme__"+a)}return c&&(this.options.theme=a),this}},{key:"close",value:function(){var a=this;
// it's in the queue
return this.closed?this:this.shown?(m.fire(this,"onClose"),this.closing=!0,null===this.options.animation.close?this.promises.close=new i["default"](function(a){a()}):"function"==typeof this.options.animation.close?this.promises.close=new i["default"](this.options.animation.close.bind(this)):(k.addClass(this.barDom,this.options.animation.close),this.promises.close=new i["default"](function(b){k.addListener(a.barDom,k.animationEndEvents,function(){a.options.force?k.remove(a.barDom):m.ghostFix(a),b()})})),this.promises.close.then(function(){m.closeFlow(a),m.handleModalClose(a)}),this.closed=!0,this):(m.removeFromQueue(this),this)}}],[{key:"closeAll",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object.keys(m.Store).forEach(function(b){a?m.Store[b].options.queue===a&&m.Store[b].killable&&m.Store[b].close():m.Store[b].killable&&m.Store[b].close()}),this}},{key:"overrideDefaults",value:function(a){return m.Defaults=k.deepExtend({},m.Defaults,a),this}},{key:"setMaxVisible",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.DefaultMaxVisible,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";return m.Queues.hasOwnProperty(b)||(m.Queues[b]={maxVisible:a,queue:[]}),m.Queues[b].maxVisible=a,this}},{key:"button",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments[2],d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new n.NotyButton(a,b,c,d)}},{key:"version",value:function(){return"3.1.0"}},{key:"Push",value:function(a){return new o.Push(a)}}]),a}();
// Document visibility change controller
b["default"]=p,k.visibilityChangeFlow(),a.exports=b["default"]},/* 7 */
/***/
function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)
//normal enviroments in sane situations
return setTimeout(a,0);
// if setTimeout wasn't available but was latter defined
if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{
// when when somebody has screwed with setTimeout but no I.E. maddness
return k(a,0)}catch(b){try{
// When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
return k.call(null,a,0)}catch(b){
// same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)
//normal enviroments in sane situations
return clearTimeout(a);
// if clearTimeout wasn't available but was latter defined
if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{
// when when somebody has screwed with setTimeout but no I.E. maddness
return l(a)}catch(b){try{
// When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
return l.call(null,a)}catch(b){
// same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
// Some versions of I.E. have different rules for clearTimeout vs setTimeout
return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}
// v8 likes predictible objects
function i(a,b){this.fun=a,this.array=b}function j(){}
// shim for using process in browser
var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",// empty string to avoid regexp issues
m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},/* 8 */
/***/
function(a,b){var c;
// This works in non-strict mode
c=function(){return this}();try{
// This works if eval is allowed (see CSP)
c=c||Function("return this")()||(0,eval)("this")}catch(d){
// This works if the window reference is available
"object"==typeof window&&(c=window)}
// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}
a.exports=c},/* 9 */
/***/
function(a,b){}])});/* f(x) and variables
---------------------------------------------------------------------------*/
/* typeahead
--------------------------------------------------*/
var substringMatcher=function(a){return function(b,c){var d;
// an array that will be populated with substring matches
d=[],
// regex used to determine if a string contains the substring `q`
substrRegex=new RegExp(b,"i"),
// iterate through the pool of strings and for any string that
// contains the substring `q`, add it to the `matches` array
$.each(a,function(a,b){substrRegex.test(b)&&d.push(b)}),c(d)}},meds=["Prednisone","Methylprednisolone"],rx_typeahead=$("#taper_med").typeahead({hint:!0,highlight:!0,minLength:0},{name:"prescription",source:substringMatcher(meds)}).bind("focus",function(){$(this).data("initial_value",$(this).val()),rx_typeahead.typeahead("val","")}).bind("blur",function(){var a=$(this).data("initial_value"),b=$(this).val();b?rx_typeahead.typeahead("val",b):rx_typeahead.typeahead("val",a)});// checkbox_resize()
/* phase controls: add controls to last phase
---------------------------------------------------------------------------*/
$.fn.initialControls=function(){var a=$("<div/>",{"class":"phase-add-delete animated slideInRight"}).append($("<div>",{id:"del","class":"phase-del"})).append($("<div>",{id:"add","class":"phase-add"})).append($("<div>",{id:"calc","class":"taper-calc"}));this.append(a),$(".phase-add, .phase-del, .taper-calc").on("mouseover",function(){$(this).filter(":not(:animated)").animate({width:"100%"},"fast")}).on("mouseout touchend",function(){$(this).animate({width:"80%"},"fast")})},/* typeahead
---------------------------------------------------------------------------*/
$(".typeahead").on("typeahead:selected",onSelected).on("typeahead:autocompleted",onAutocompleted),$("[id$=_form]").on("keydown",".twitter-typeahead #taper_med",function(a){13!=a.which&&9!=a.which||(a.preventDefault(),$(".tt-selectable").first().click())}),/* floating labels
---------------------------------------------------------------------------*/
doseParam(),daysParam(),/* datepicker (pickadate)
---------------------------------------------------------------------------*/
datePicker();
// http://www.inabrains.com/tooltip/guide.html#api
/* $('#input_date').LiteTooltip({
    title: 
    '<div class="l-tip">' +
    'Start Date' +
    '</div>'
});  */
// http://ned.im/noty/options.html
var n=new Noty({type:"warning",// alert, success, error, warning, info
layout:"topCenter",// top, topLeft, topCenter, topRight, center, centerLeft, centerRight, bottom, bottomLeft, bottomCenter, bottomRight
theme:"mint",text:"Notification",// HTML or string
timeout:2e3,// false, 1000, 3000, 3500, etc.
progressBar:!0,closeWith:["click","button"],animation:{open:"noty_effects_open",close:"noty_effects_close"},id:!1,force:!1,killer:!1,queue:"global",container:!1,buttons:[],titleCount:{conditions:[]},modal:!0});
//n.show()
// snap popup to bottom on mobile browsers
mobile?($(".picker__frame").css({bottom:"0","margin-bottom":"0",top:"auto"}),$(".picker__box").css({"border-radius":"0","border-bottom-width":"0"})):$(".picker__frame").css({top:"15%"}),
// Taper start date, hover color
$("#datepicker-addon .fa-calendar-o, #input_date").on("mouseover mouseout",function(){$("#datepicker-addon .fa-calendar-o, #input_date").toggleClass("cal-hover")}),/* checkboxes (iCheck)
---------------------------------------------------------------------------*/
checkBoxes(),checkboxResize(),/* headroom js
---------------------------------------------------------------------------*/
$("nav").headroom({tolerance:5,offset:205,classes:{initial:"animated",pinned:"slideDown",unpinned:"slideUp"}}),/* add controls to last phase
---------------------------------------------------------------------------*/
$(".phase").last().initialControls(),/* Q.O.D. behavior
---------------------------------------------------------------------------*/
phaseQod(),$.fn.onFocus=function(){this.focus(function(a){var b=$(this).val().replace(/[^0-9\.]/g,"");$(this).data("initial_value",$(this).val()),$(this).data("initial_number",b),""!=b?$(this).val(b):$(this).val("")})},$.fn.onBlur=function(){this.blur(function(a){""==$(this).val()?$(this).val(""):$(this).val()==$(this).data("initial_number")&&$(this).val($(this).data("initial_value"))})},$.fn.doseInput=function(){this.keypress(function(a){return isDose(a,$(this))}),this.on("change",function(){var a=parseFloat($(this).val())||"",b=a+" mg";""==a?$(this).val(""):$(this).val(b)})},$.fn.daysInput=function(){this.keypress(function(a){return isDays(a,$(this))}),this.on("change blur",function(){var a=parseFloat($(this).val())||"",b=a+" days";""==a?$(this).val(""):$(this).val(b)}),this.on("keyup keydown",function(){$label=$(this).prev();var a=parseFloat($(this).val())||"";if(""!=a){var b=Math.floor(parseInt(a,10)/7),c=parseInt(a,10)%7;if(0!=b){1==c?days_display=" Day":days_display=" Days";var d=b+" Weeks, "+c+days_display}else var d="Days";$label.html(d)}})},/* Dynamic Phases
---------------------------------------------------------------------------*/
$("#add").click(function(){$(this).closest("form").find(":input").slice(-1).blur();
// increment phase number
var a=1;$.each($(".phase"),function(){parseInt($(this).data("id"))>a&&(a=parseInt($(this).data("id")))}),a++;var b=a,c="p"+a,d=$("<div/>",{id:c,"data-id":b,"class":"row phase animated"}),e=$("<div/>",{"class":"phase-label",unselectable:"on",html:"Phase "+b});e.appendTo(d);var f=$("<div/>",{"class":"phase-qod-wrapper"}).append($("<div/>",{"class":"phase-qod"}).append($("<input/>",{"class":"phase-qod",id:"nl_qod_"+b,name:"nl_qod_"+b,type:"hidden",value:"0"})));f.appendTo(d);var g=$("<div/>",{"class":"col-xs-2 phase-num v-align"}).append($("<p/>",{unselectable:"on",html:b}));g.appendTo(d);var h=$("<div/>",{"class":"col-xs-8 pull-xs-2 col-md-9 pull-md-1 phase-params"}),i=$("<div/>",{"class":"row"}),j=$("<div/>",{"class":"col-md-6 dose-param"}),k=$("<label/>",{"class":"param-label","for":c+"_dose",html:"Dose"}),l=$("<input/>",{"class":"param-input",type:"tel",id:c+"_dose",name:c+"_dose"});k.appendTo(j),l.appendTo(j);
// days
var m=$("<div/>",{"class":"col-md-6 days-param"}),n=$("<label/>",{id:c+"_days_label","class":"param-label","for":c+"_days",html:"Days"}),o=$("<input/>",{"class":"param-input",type:"tel",id:c+"_days",name:c+"_days"});n.appendTo(m),o.appendTo(m),
// build .phase div
j.appendTo(i),m.appendTo(i),i.appendTo(h),h.appendTo(d),
// append phase div
d.appendTo($("#nl_form .container-fluid")),
// dose input functions
l.onFocus(),l.onBlur(),l.doseInput(),
// days input functions
o.onFocus(),o.onBlur(),o.daysInput(),
// apply float labels
doseParam(),daysParam(),
// show new phase
d.addClass("slideInRight").one(animation_end,function(){var a=$(this).closest("form").find(":input");a.slice(-2,-1).focus()}),
// show controls on new phase
phaseAddControls(d),$("html, body").animate({scrollTop:d.offset().top},500)}),$("#del").click(function(){if(2!=$(".phase").length){var a=$(".phase").slice(2).last(),b=$(".phase-add-delete"),c="slideInRight",d="slideOutRight";b.removeClass(c).addClass(d).one(animation_end,function(){$(this).removeClass(d)}),a.removeClass("slideInRight").addClass("slideOutRight").one(animation_end,function(){$(this).slideToggle("fast","linear",function(){a.detach()}),b.addClass(c).appendTo(a.prev());var d=$(this).closest("form").find(":input");d.slice(-4,-3).focus()})}}),$("[id$=_form]").on("keydown","[id$=_days]:last",function(a){9==a.which&&(a.preventDefault(),$("#add").trigger("click"))}),$("[id$=_form]").on("keydown","[id$=_days]",function(a){if(8==a.which&&""==$(this).val()){a.preventDefault();var b=$(this).closest(".phase-params").find(".param-input");$(this).blur(),b.slice(-2,-1).focus()}}),$("[id$=_form]").on("keydown","[id$=_dose]",function(a){if(8==a.which&&""==$(this).val()&&"p2_dose"==$(this).attr("id")){a.preventDefault();var b=$(this).closest("form").find(".param-input");$(this).blur(),b.slice(-3,-2).focus()}}),$("[id$=_form]").on("keydown","[id$=_dose]:last",function(a){8==a.which&&""==$(this).val()&&(a.preventDefault(),$("#del").trigger("click"))}),$("[id$=_dose], [id$=_days], [id$=_mg], [id$=_time]").each(function(){var a=$(this);a.onFocus(),a.onBlur(),a[0].id.indexOf("_dose")!==-1?a.doseInput():a[0].id.indexOf("_days")!==-1&&a.daysInput()});